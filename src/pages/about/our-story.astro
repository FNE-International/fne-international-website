---
import BaseLayout from '../../layouts/BaseLayout.astro';
import HeroSection from '../../components/HeroSection.astro';
import Section from '../../components/Section.astro';
import Container from '../../components/Container.astro';
import SectionHeader from '../../components/SectionHeader.astro';
import CTASection from '../../components/CTASection.astro';
import PhotoCard from '../../components/PhotoCard.astro';
import Timeline from '../../components/Timeline.astro';
import CountryCard from '../../components/CountryCard.astro';

const timeline = [
  {
    year: '1991',
    title: 'A Journey Begins',
    description: 'Michael Cipoletti travels to Nicaragua for the first time, witnessing firsthand the challenges facing communities and planting the seeds for what would become FNE International.',
    icon: 'M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z'
  },
  {
    year: '2009',
    title: 'Joining Forces',
    description: 'After years of grassroots work, the organization becomes a chapter of Friends of New England (FNE), gaining structure and expanding capacity to serve more communities.',
    icon: 'M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z'
  },
  {
    year: '2011',
    title: 'Expanding to Peru',
    description: 'Recognizing similar needs in South America, FNE launches its first project in Peru, bringing education and healthcare initiatives to underserved communities.',
    icon: 'M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z'
  },
  {
    year: '2012',
    title: 'Independence',
    description: 'FNE International transitions to an independent 501(c)(3) US nonprofit organization, allowing for greater autonomy and focused mission delivery.',
    icon: 'M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z'
  },
  {
    year: '2014',
    title: 'Richard Streb Memorial Library',
    description: 'A solar-powered lending library opens in Chacraseca, Nicaraguaâ€”the community\'s first library, honoring educator Dick Streb and bringing books, computers, and WiFi to subsistence farmers and artisans.',
    icon: 'M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253'
  },
  {
    year: '2016',
    title: 'Dominican Republic',
    description: 'The organization extends its reach to the Dominican Republic, partnering with FUCPE school in Villa Caoba to serve low-income families and undocumented children.',
    icon: 'M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z'
  },
  {
    year: '2024',
    month: 'August',
    title: 'Growing Impact',
    description: 'FNE International continues to expand its reach, establishing new partnerships and serving thousands of families across three countries in Latin America.',
    icon: 'M13 7h8m0 0v8m0-8l-8 8-4-4-6 6'
  },
];

---

<BaseLayout title="Our Story" breadcrumbs={[{ label: 'About', href: '/about' }, { label: 'Our Story' }]}>
  <!-- Hero Section -->
  <HeroSection
    badge="Since 1990"
    title="Our"
    titleAccent="Story"
    subtitle="From a single trip to Nicaragua to a movement spanning three countries, discover the journey that shaped FNE International."
    image="/our-story-hero.jpg"
    imageAlt="FNE International through the years"
  />

  <!-- Photo Banner -->
  <Section background="gray" spacing="small">
    <div class="w-full overflow-hidden">
      <div class="photo-grid photo-grid-4 max-w-7xl mx-auto px-4">
        <PhotoCard image="/our-story-1.jpg" alt="First trip to Nicaragua 1990" variant="tall" animationDelay={0} />
        <PhotoCard image="/our-story-2.jpg" alt="Early community work" animationDelay={100} />
        <PhotoCard image="/our-story-3.jpg" alt="FNE becomes independent" animationDelay={200} />
        <PhotoCard image="/our-story-4.jpg" alt="Today's impact" variant="tall" animationDelay={300} />
      </div>
    </div>
  </Section>

  <!-- The Beginning -->
  <Section background="white">
    <Container size="md">
      <div class="animate-on-scroll">
        <SectionHeader
          label="Where It Started"
          title="A Vision Born from"
          titleAccent="Experience"
        />
      </div>

      <div class="prose-section animate-on-scroll delay-100">
        <p class="text-xl text-gray-700 leading-relaxed mb-6">
          In 1990, Michael Cipoletti made his first trip to Nicaragua. What he witnessedâ€”communities facing immense challenges yet filled with resilience and hopeâ€”ignited a passion that would shape the next three decades of his life.
        </p>
        <p class="text-lg text-gray-600 leading-relaxed mb-6">
          That initial journey revealed a fundamental truth: sustainable change doesn't come from outsiders imposing solutions, but from <span class="text-[#2D8B4E] font-semibold">empowering communities</span> to identify their own opportunities and build their own futures.
        </p>
        <p class="text-lg text-gray-600 leading-relaxed">
          This philosophy became the foundation of everything FNE International stands for today.
        </p>
      </div>
    </Container>
  </Section>

  <!-- Timeline -->
  <Section background="gray">
    <Container size="lg">
      <div class="animate-on-scroll">
        <SectionHeader
          label="Our Journey"
          title="Milestones That"
          titleAccent="Matter"
          subtitle="From humble beginnings to international impact, every step has brought us closer to our vision."
        />
      </div>
    </Container>

    <Timeline items={timeline} />
  </Section>

  <!-- Where We Work -->
  <Section background="white">
    <Container>
      <div class="animate-on-scroll">
        <SectionHeader
          label="Our Reach"
          title="Three Countries, One"
          titleAccent="Mission"
          subtitle="We partner with communities facing significant challenges, bringing sustainable solutions to those who need them most."
          labelColor="orange"
        />
      </div>

      <div class="grid md:grid-cols-3 gap-8">
        <CountryCard
          flag="ðŸ‡³ðŸ‡®"
          name="Nicaragua"
          since="1990"
          description="Our longest-running partnership, featuring the SPTLN healthcare program, Dreamers initiative, scholarships, and the Richard Streb Library."
          statValue="24%+"
          statLabel="living in extreme poverty"
          href="/programs/nicaragua"
          animationClass="animate-slide-left"
        />
        <CountryCard
          flag="ðŸ‡µðŸ‡ª"
          name="Peru"
          since="2011"
          description="Expanding our reach to South America, bringing education and healthcare initiatives to underserved Peruvian communities."
          statValue="20%+"
          statLabel="living in poverty"
          href="/programs/peru"
          animationDelay={100}
        />
        <CountryCard
          flag="ðŸ‡©ðŸ‡´"
          name="Dominican Republic"
          since="2016"
          description="Partnering with FUCPE school in Villa Caoba, La Romana to serve low-income families and undocumented children."
          statValue="21%"
          statLabel="below poverty line"
          href="/programs/dominican-republic"
          animationClass="animate-slide-right"
        />
      </div>

      <div class="team-link-wrapper animate-on-scroll">
        <a href="/about/team" class="team-link">
          <span>Meet the people behind our mission</span>
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6" />
          </svg>
        </a>
      </div>
    </Container>
  </Section>

  <!-- CTA -->
  <CTASection
    title="Write the Next Chapter"
    subtitle="Our story continues with every donation, every volunteer hour, and every life transformed. Ready to make your mark?"
    icon="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"
    primaryButtonText="Donate Now"
    primaryButtonLink="/donate"
    secondaryButtonText="Ways to Help"
    secondaryButtonLink="/get-involved"
  />
</BaseLayout>

<style>
  /* Prose section */
  .prose-section {
    max-width: 65ch;
    margin: 0 auto;
  }

  /* Team link */
  .team-link-wrapper {
    text-align: center;
    margin-top: 3rem;
  }

  .team-link {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    color: #2D8B4E;
    font-weight: 600;
    text-decoration: none;
    transition: all 0.3s ease;
  }

  .team-link:hover {
    color: #3D9A8B;
  }

  .team-link svg {
    transition: transform 0.3s ease;
  }

  .team-link:hover svg {
    transform: translateX(4px);
  }

  /* CTA Icon */
  .cta-icon {
    width: 80px;
    height: 80px;
    border-radius: 20px;
    background: rgba(255, 255, 255, 0.2);
    backdrop-filter: blur(10px);
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
  }

  /* Floating orbs */
  .floating-orb {
    position: absolute;
    border-radius: 50%;
    filter: blur(40px);
    opacity: 0.3;
    pointer-events: none;
  }

  .floating-orb-1 {
    width: 200px;
    height: 200px;
    background: #F7931E;
    top: -50px;
    left: 10%;
    animation: float 8s ease-in-out infinite;
  }

  .floating-orb-2 {
    width: 150px;
    height: 150px;
    background: #2D8B4E;
    bottom: -30px;
    right: 15%;
    animation: float 10s ease-in-out infinite reverse;
  }

  .floating-orb-3 {
    width: 100px;
    height: 100px;
    background: white;
    top: 50%;
    right: 5%;
    animation: float 6s ease-in-out infinite;
  }

  @keyframes float {
    0%, 100% { transform: translateY(0) translateX(0); }
    25% { transform: translateY(-20px) translateX(10px); }
    50% { transform: translateY(0) translateX(20px); }
    75% { transform: translateY(20px) translateX(10px); }
  }

</style>
