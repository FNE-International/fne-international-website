---
import BaseLayout from '../layouts/BaseLayout.astro';
import HeroSection from '../components/HeroSection.astro';
import Section from '../components/Section.astro';
import Container from '../components/Container.astro';
import SectionHeader from '../components/SectionHeader.astro';
import StatCard from '../components/StatCard.astro';
import QuoteCard from '../components/QuoteCard.astro';
import FAQItem from '../components/FAQItem.astro';

const givingLevels = [
  {
    name: 'Supporter',
    amount: '$10',
    frequency: '/month',
    impact: 'School supplies for 2 children each month',
    icon: 'M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253',
    color: 'green',
    popular: false,
  },
  {
    name: 'Advocate',
    amount: '$25',
    frequency: '/month',
    impact: 'Mobile library events for a classroom monthly',
    icon: 'M8 14v3m4-3v3m4-3v3M3 21h18M3 10h18M3 7l9-4 9 4M4 10h16v11H4V10z',
    color: 'teal',
    popular: false,
  },
  {
    name: 'Champion',
    amount: '$50',
    frequency: '/month',
    impact: 'Monthly medical expenses for a child with chronic illness',
    icon: 'M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z',
    color: 'orange',
    popular: true,
  },
  {
    name: 'Ambassador',
    amount: '$100',
    frequency: '/month',
    impact: 'Monthly school support for a student in need',
    icon: 'M12 14l9-5-9-5-9 5 9 5zm0 0l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z',
    color: 'green',
    popular: false,
  },
  {
    name: 'Visionary',
    amount: '$250',
    frequency: '/month',
    impact: 'Monthly operations for the Dreamers program',
    icon: 'M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z',
    color: 'orange',
    popular: false,
  },
];

const benefits = [
  {
    title: 'Exclusive Updates',
    description: 'Receive monthly impact reports and behind-the-scenes stories directly from our programs.',
    icon: 'M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z',
  },
  {
    title: 'Annual Recognition',
    description: 'Be recognized in our annual report and on our donor wall for your sustained commitment.',
    icon: 'M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z',
  },
  {
    title: 'Community Events',
    description: 'Invitations to virtual gatherings with our team and community members from Latin America.',
    icon: 'M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z',
  },
  {
    title: 'Tax Benefits',
    description: 'Simplified annual tax receipts and easy donation management through your member portal.',
    icon: 'M9 14l6-6m-5.5.5h.01m4.99 5h.01M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16l3.5-2 3.5 2 3.5-2 3.5 2z',
  },
];

const stats = [
  { value: '92%', label: 'Goes to Programs', icon: 'M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z' },
  { value: '35+', label: 'Years of Impact', icon: 'M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z' },
  { value: '3', label: 'Countries Served', icon: 'M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064' },
  { value: '500+', label: 'Monthly Donors', icon: 'M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z' },
];

const faqs = [
  {
    question: 'How does monthly giving help more than one-time donations?',
    answer: 'Monthly giving provides predictable, sustained funding that allows us to plan long-term programs and make commitments to communities. It reduces administrative costs and ensures consistent support for ongoing initiatives like scholarships, medical care, and educational programs.',
  },
  {
    question: 'Can I change or cancel my monthly donation?',
    answer: 'Absolutely! You have full control over your giving. You can increase, decrease, pause, or cancel your monthly donation at any time through our donor portal or by contacting us directly at info@fneinternational.org.',
  },
  {
    question: 'How will I know my donation is making an impact?',
    answer: 'Hope Collective members receive exclusive monthly updates with stories, photos, and impact reports directly from our programs. You\'ll see exactly how your sustained giving is creating change in communities across Latin America.',
  },
  {
    question: 'Is my donation tax-deductible?',
    answer: 'Yes! FNE International is a registered 501(c)(3) nonprofit organization (EIN: 27-1792140). All donations are tax-deductible to the extent allowed by law. You\'ll receive an annual summary for tax purposes.',
  },
  {
    question: 'Can I direct my monthly gift to a specific program?',
    answer: 'Yes, you can designate your monthly gift to support a specific country (Nicaragua, Peru, or Dominican Republic) or program area (Education, Health, Housing). Contact us to set up a designated monthly gift.',
  },
];

const testimonials = [
  {
    quote: "Knowing that my monthly contribution is helping a child receive medical care they couldn't otherwise afford gives me such peace of mind. It's not just a donation—it's a relationship.",
    name: 'Sarah M.',
    role: 'Hope Collective Member since 2021',
  },
  {
    quote: "I love the updates I receive every month. Seeing the faces of the children and families I'm helping makes my small monthly gift feel so significant.",
    name: 'David R.',
    role: 'Hope Collective Ambassador',
  },
];
---

<BaseLayout title="The Hope Collective - Monthly Giving">
  <!-- Hero Section -->
  <HeroSection
    badge="Monthly Giving Program"
    title="The Hope"
    titleAccent="Collective"
    subtitle="Join a community of changemakers providing sustained support that transforms lives across Latin America."
    image="/team.jpg"
    imageAlt="FNE International community members"
  />

  <!-- Stats Section -->
  <Section background="white" padding="sm">
    <Container>
      <div class="grid grid-cols-2 md:grid-cols-4 gap-6">
        {stats.map((stat, index) => (
          <StatCard
            value={stat.value}
            label={stat.label}
            icon={stat.icon}
            animationDelay={(index + 1) * 100}
          />
        ))}
      </div>
    </Container>
  </Section>

  <!-- Why Monthly Giving -->
  <Section background="gray" withGrid>
    <Container>
      <div class="grid lg:grid-cols-2 gap-12 items-center">
        <div class="animate-slide-left">
          <p class="text-[#F7931E] font-semibold tracking-[0.3em] uppercase mb-4 text-sm">Why Monthly Giving</p>
          <h2 class="text-4xl md:text-5xl font-black text-gray-900 mb-6">
            Small Gifts, <span class="neon-text">Big Impact</span>
          </h2>

          <p class="text-lg text-gray-600 leading-relaxed mb-6">
            When you join The Hope Collective, you become part of a dedicated community providing the consistent support that makes transformational programs possible.
          </p>

          <div class="space-y-4">
            <div class="flex items-start gap-4">
              <div class="benefit-check">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                </svg>
              </div>
              <div>
                <p class="font-semibold text-gray-900">Predictable Funding</p>
                <p class="text-gray-600 text-sm">Enables long-term planning and commitments to communities</p>
              </div>
            </div>
            <div class="flex items-start gap-4">
              <div class="benefit-check">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                </svg>
              </div>
              <div>
                <p class="font-semibold text-gray-900">Lower Overhead</p>
                <p class="text-gray-600 text-sm">More of every dollar goes directly to programs</p>
              </div>
            </div>
            <div class="flex items-start gap-4">
              <div class="benefit-check">
                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                </svg>
              </div>
              <div>
                <p class="font-semibold text-gray-900">Sustained Impact</p>
                <p class="text-gray-600 text-sm">Supports scholarships, medical care, and ongoing programs year-round</p>
              </div>
            </div>
          </div>
        </div>

        <div class="animate-slide-right">
          <div class="why-monthly-visual">
            <div class="why-monthly-card">
              <div class="why-monthly-icon icon-3d">
                <div class="icon-3d-inner animate-rotate-3d">
                  <svg class="w-12 h-12 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />
                  </svg>
                </div>
              </div>
              <div class="why-monthly-content">
                <p class="text-5xl font-black text-white mb-2">$50</p>
                <p class="text-white/80 text-lg">per month</p>
                <div class="why-monthly-equals">=</div>
                <p class="text-2xl font-bold text-white mb-2">$600/year</p>
                <p class="text-white/80">of life-changing impact</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </Container>
  </Section>

  <!-- Giving Levels -->
  <Section background="white">
    <Container>
      <SectionHeader
        label="Choose Your Level"
        title="Make Your Impact"
        subtitle="Select a giving level that works for you. Every amount makes a difference."
        labelColor="green"
      />

      <div class="giving-levels-grid">
        {givingLevels.map((level, index) => (
          <div class={`giving-card ${level.popular ? 'giving-card-popular' : ''} animate-on-scroll delay-${(index + 1) * 100}`}>
            {level.popular && (
              <div class="popular-badge">Most Popular</div>
            )}
            <div class={`giving-icon giving-icon-${level.color}`}>
              <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d={level.icon} />
              </svg>
            </div>
            <h3 class="text-lg font-bold text-gray-900 mt-4">{level.name}</h3>
            <div class="giving-amount">
              <span class="text-3xl font-black">{level.amount}</span>
              <span class="text-gray-500">{level.frequency}</span>
            </div>
            <p class="text-gray-600 text-sm mt-3 mb-6">{level.impact}</p>
            <button
              type="button"
              class={`giving-btn ${level.popular ? 'giving-btn-primary' : 'giving-btn-secondary'}`}
              data-donate-amount={level.amount.replace('$', '')}
              data-donate-monthly="true"
            >
              Join Now
            </button>
          </div>
        ))}
      </div>

      <div class="text-center mt-8">
        <p class="text-gray-500">
          Want to give a different amount? <button type="button" data-donate-monthly="true" class="text-[#2D8B4E] font-semibold hover:underline bg-transparent border-none cursor-pointer">Choose your own amount</button>
        </p>
      </div>
    </Container>
  </Section>

  <!-- Member Benefits -->
  <Section background="gray" withGrid>
    <Container>
      <SectionHeader
        label="Member Perks"
        title="Benefits of Joining"
        subtitle="As a Hope Collective member, you'll receive exclusive perks and updates."
        labelColor="orange"
      />

      <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6">
        {benefits.map((benefit, index) => (
          <div class={`benefit-card animate-on-scroll delay-${(index + 1) * 100}`}>
            <div class="benefit-icon">
              <div class="icon-3d">
                <div class="icon-3d-inner animate-wobble">
                  <svg class="w-7 h-7" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d={benefit.icon} />
                  </svg>
                </div>
              </div>
            </div>
            <h3 class="text-lg font-bold text-gray-900 mt-4">{benefit.title}</h3>
            <p class="text-gray-600 text-sm mt-2 leading-relaxed">{benefit.description}</p>
          </div>
        ))}
      </div>
    </Container>
  </Section>

  <!-- Testimonial -->
  <Section background="gradient">
    <Container size="md">
      <QuoteCard
        quote={testimonials[0].quote}
        attribution={testimonials[0].name}
        subtext={testimonials[0].role}
      />
    </Container>
  </Section>

  <!-- Impact Examples -->
  <Section background="white">
    <Container>
      <SectionHeader
        label="Your Impact"
        title="See What Monthly Giving Achieves"
        subtitle="Real examples of how sustained giving transforms communities."
        labelColor="teal"
      />

      <div class="impact-examples-grid">
        <div class="impact-example animate-on-scroll">
          <div class="impact-example-amount">$25/mo</div>
          <div class="impact-example-visual">
            <div class="image-placeholder">
              <svg class="image-placeholder-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" />
              </svg>
              <span class="image-placeholder-text">Mobile library visiting a classroom</span>
            </div>
          </div>
          <h3 class="text-lg font-bold text-gray-900 mt-4">Mobile Library Events</h3>
          <p class="text-gray-600 text-sm mt-2">Brings books and reading programs to classrooms monthly, fostering a love of learning.</p>
        </div>

        <div class="impact-example animate-on-scroll delay-100">
          <div class="impact-example-amount">$50/mo</div>
          <div class="impact-example-visual">
            <div class="image-placeholder">
              <svg class="image-placeholder-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" />
              </svg>
              <span class="image-placeholder-text">Child receiving medical care</span>
            </div>
          </div>
          <h3 class="text-lg font-bold text-gray-900 mt-4">Pediatric Medical Care</h3>
          <p class="text-gray-600 text-sm mt-2">Covers monthly medical expenses for a child with chronic health conditions.</p>
        </div>

        <div class="impact-example animate-on-scroll delay-200">
          <div class="impact-example-amount">$100/mo</div>
          <div class="impact-example-visual">
            <div class="image-placeholder">
              <svg class="image-placeholder-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" />
              </svg>
              <span class="image-placeholder-text">Student in scholarship program</span>
            </div>
          </div>
          <h3 class="text-lg font-bold text-gray-900 mt-4">Student Scholarship</h3>
          <p class="text-gray-600 text-sm mt-2">Provides monthly school support including tuition, supplies, and uniforms.</p>
        </div>
      </div>
    </Container>
  </Section>

  <!-- FAQ Section -->
  <Section background="gray">
    <Container size="md">
      <SectionHeader
        label="Questions?"
        title="Frequently Asked Questions"
        labelColor="teal"
      />

      <div class="space-y-4">
        {faqs.map((faq, index) => (
          <FAQItem
            question={faq.question}
            answer={faq.answer}
            index={index}
            animationDelay={(index + 1) * 100}
          />
        ))}
      </div>
    </Container>
  </Section>

  <!-- Final CTA -->
  <Section background="gradient-dark">
    <Container size="md">
      <div class="text-center relative animate-on-scroll">
        <!-- Floating orbs -->
        <div class="floating-orb floating-orb-1"></div>
        <div class="floating-orb floating-orb-2"></div>
        <div class="floating-orb floating-orb-3"></div>

        <div class="cta-icon mx-auto mb-6">
          <div class="icon-3d">
            <div class="icon-3d-inner animate-rotate-3d">
              <svg class="w-10 h-10" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
              </svg>
            </div>
          </div>
        </div>

        <h2 class="text-3xl md:text-4xl font-black text-white mb-4">Ready to Join?</h2>
        <p class="text-lg text-white/90 mb-8 max-w-2xl mx-auto">
          Become a Hope Collective member today and start making a lasting difference in the lives of families across Latin America.
        </p>
        <div class="flex flex-col sm:flex-row gap-4 justify-center">
          <button
            type="button"
            class="mega-button mega-button-white group"
            data-donate-monthly="true"
          >
            <span class="mega-button-content">
              <span class="text-lg font-bold">Join The Hope Collective</span>
              <svg class="w-5 h-5 group-hover:translate-x-2 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6" />
              </svg>
            </span>
            <div class="mega-button-shine"></div>
          </button>
          <a href="/contact" class="inline-flex items-center gap-3 px-8 py-4 bg-white/10 backdrop-blur-sm border-2 border-white/30 text-white font-bold rounded-full hover:bg-white hover:text-[#2D8B4E] transition-all duration-300">
            <span>Contact Us</span>
          </a>
        </div>
      </div>
    </Container>
  </Section>

</BaseLayout>

<!-- Donation Modal -->
<div id="donate-modal" class="donate-modal">
  <div class="donate-modal-backdrop"></div>
  <div class="donate-modal-container">
    <div class="donate-modal-header">
      <h3 class="donate-modal-title">Join The Hope Collective</h3>
      <button type="button" id="donate-modal-close" class="donate-modal-close" aria-label="Close">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
        </svg>
      </button>
    </div>
    <div class="donate-modal-body">
      <div id="modal-widget-container" class="gl-simple-donation-widget"></div>
      <div id="modal-loading" class="donate-modal-loading">
        <div class="donate-spinner"></div>
        <p>Loading donation form...</p>
      </div>
    </div>
    <div class="donate-modal-footer">
      <div class="flex items-center justify-center gap-2 text-xs text-gray-400">
        <svg class="w-4 h-4 text-[#2D8B4E]" fill="currentColor" viewBox="0 0 20 20">
          <path fill-rule="evenodd" d="M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
        </svg>
        <span>Secure & Tax-deductible</span>
        <span class="mx-1">•</span>
        <span>Powered by</span>
        <a href="https://www.givelively.org" target="_blank" rel="noopener noreferrer" class="text-gray-500 hover:text-[#2D8B4E] font-medium transition-colors">Give Lively</a>
      </div>
    </div>
  </div>
</div>

<style>
  /* Benefit check */
  .benefit-check {
    width: 32px;
    height: 32px;
    border-radius: 8px;
    background: linear-gradient(135deg, #2D8B4E, #3D9A8B);
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    flex-shrink: 0;
  }

  /* Why monthly visual */
  .why-monthly-visual {
    display: flex;
    justify-content: center;
  }

  .why-monthly-card {
    background: linear-gradient(135deg, #2D8B4E, #3D9A8B);
    padding: 3rem;
    border-radius: 24px;
    text-align: center;
    box-shadow: 0 25px 60px rgba(45, 139, 78, 0.3);
  }

  .why-monthly-icon {
    width: 100px;
    height: 100px;
    margin: 0 auto 2rem;
    background: rgba(255, 255, 255, 0.2);
    border-radius: 24px;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .why-monthly-equals {
    font-size: 2rem;
    font-weight: 300;
    color: white;
    margin: 1.5rem 0;
  }

  /* Giving levels grid */
  .giving-levels-grid {
    display: grid;
    grid-template-columns: repeat(5, 1fr);
    gap: 1.5rem;
  }

  @media (max-width: 1200px) {
    .giving-levels-grid {
      grid-template-columns: repeat(3, 1fr);
    }
  }

  @media (max-width: 768px) {
    .giving-levels-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  @media (max-width: 480px) {
    .giving-levels-grid {
      grid-template-columns: 1fr;
    }
  }

  /* Giving card */
  .giving-card {
    position: relative;
    background: white;
    padding: 2rem;
    border-radius: 20px;
    border: 2px solid rgba(45, 139, 78, 0.1);
    text-align: center;
    transition: all 0.4s ease;
  }

  .giving-card:hover {
    transform: translateY(-8px);
    border-color: rgba(45, 139, 78, 0.3);
    box-shadow: 0 20px 60px rgba(45, 139, 78, 0.15);
  }

  .giving-card-popular {
    border-color: #F7931E;
    box-shadow: 0 10px 40px rgba(247, 147, 30, 0.2);
  }

  .giving-card-popular:hover {
    border-color: #F7931E;
    box-shadow: 0 25px 60px rgba(247, 147, 30, 0.3);
  }

  .popular-badge {
    position: absolute;
    top: -12px;
    left: 50%;
    transform: translateX(-50%);
    background: linear-gradient(135deg, #F7931E, #ff6b00);
    color: white;
    font-size: 0.75rem;
    font-weight: 700;
    padding: 0.25rem 1rem;
    border-radius: 9999px;
    white-space: nowrap;
  }

  .giving-icon {
    width: 64px;
    height: 64px;
    margin: 0 auto;
    border-radius: 16px;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.4s ease;
  }

  .giving-icon-green {
    background: linear-gradient(135deg, rgba(45, 139, 78, 0.1), rgba(61, 154, 139, 0.1));
    color: #2D8B4E;
  }

  .giving-icon-orange {
    background: linear-gradient(135deg, rgba(247, 147, 30, 0.1), rgba(45, 139, 78, 0.1));
    color: #F7931E;
  }

  .giving-icon-teal {
    background: linear-gradient(135deg, rgba(61, 154, 139, 0.1), rgba(45, 139, 78, 0.1));
    color: #3D9A8B;
  }

  .giving-card:hover .giving-icon-green {
    background: linear-gradient(135deg, #2D8B4E, #3D9A8B);
    color: white;
  }

  .giving-card:hover .giving-icon-orange {
    background: linear-gradient(135deg, #F7931E, #ff6b00);
    color: white;
  }

  .giving-card:hover .giving-icon-teal {
    background: linear-gradient(135deg, #3D9A8B, #2D8B4E);
    color: white;
  }

  .giving-amount {
    margin-top: 1rem;
  }

  .giving-amount span:first-child {
    background: linear-gradient(135deg, #2D8B4E, #F7931E);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .giving-btn {
    display: inline-block;
    width: 100%;
    padding: 0.75rem 1.5rem;
    border-radius: 9999px;
    font-weight: 600;
    text-align: center;
    transition: all 0.3s ease;
  }

  .giving-btn-primary {
    background: linear-gradient(135deg, #F7931E, #ff6b00);
    color: white;
  }

  .giving-btn-primary:hover {
    transform: scale(1.05);
    box-shadow: 0 10px 30px rgba(247, 147, 30, 0.3);
  }

  .giving-btn-secondary {
    background: transparent;
    color: #2D8B4E;
    border: 2px solid #2D8B4E;
  }

  .giving-btn-secondary:hover {
    background: #2D8B4E;
    color: white;
  }

  /* Benefit cards */
  .benefit-card {
    background: white;
    padding: 2rem;
    border-radius: 20px;
    border: 1px solid rgba(45, 139, 78, 0.1);
    text-align: center;
    transition: all 0.4s ease;
  }

  .benefit-card:hover {
    transform: translateY(-8px);
    border-color: rgba(45, 139, 78, 0.3);
    box-shadow: 0 20px 60px rgba(45, 139, 78, 0.1);
  }

  .benefit-icon {
    width: 64px;
    height: 64px;
    margin: 0 auto;
    background: linear-gradient(135deg, rgba(45, 139, 78, 0.1), rgba(247, 147, 30, 0.1));
    border-radius: 16px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #2D8B4E;
    transition: all 0.4s ease;
  }

  .benefit-card:hover .benefit-icon {
    background: linear-gradient(135deg, #2D8B4E, #3D9A8B);
    color: white;
    transform: scale(1.1);
  }

  /* Impact examples */
  .impact-examples-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 2rem;
  }

  @media (max-width: 768px) {
    .impact-examples-grid {
      grid-template-columns: 1fr;
    }
  }

  .impact-example {
    text-align: center;
  }

  .impact-example-amount {
    display: inline-block;
    padding: 0.5rem 1rem;
    background: linear-gradient(135deg, #2D8B4E, #3D9A8B);
    color: white;
    font-weight: 700;
    border-radius: 9999px;
    margin-bottom: 1rem;
  }

  .impact-example-visual {
    border-radius: 16px;
    overflow: hidden;
  }

  /* Donation Modal */
  .donate-modal {
    display: none;
    position: fixed;
    inset: 0;
    z-index: 100;
    align-items: center;
    justify-content: center;
    padding: 1rem;
  }

  .donate-modal.open {
    display: flex;
  }

  .donate-modal-backdrop {
    position: absolute;
    inset: 0;
    background: rgba(0, 0, 0, 0.6);
    backdrop-filter: blur(4px);
  }

  .donate-modal-container {
    position: relative;
    background: white;
    border-radius: 20px;
    width: 100%;
    max-width: 480px;
    max-height: 90vh;
    display: flex;
    flex-direction: column;
    box-shadow: 0 25px 60px rgba(0, 0, 0, 0.3);
    animation: modalSlideIn 0.3s ease;
    overflow: hidden;
  }

  @keyframes modalSlideIn {
    from {
      opacity: 0;
      transform: translateY(20px) scale(0.95);
    }
    to {
      opacity: 1;
      transform: translateY(0) scale(1);
    }
  }

  .donate-modal-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 1.25rem 1.5rem;
    border-bottom: 1px solid #e5e7eb;
    background: linear-gradient(135deg, #2D8B4E, #3D9A8B);
  }

  .donate-modal-title {
    font-size: 1.25rem;
    font-weight: 700;
    color: white;
    margin: 0;
  }

  .donate-modal-close {
    padding: 0.5rem;
    border-radius: 8px;
    border: none;
    background: rgba(255, 255, 255, 0.2);
    color: white;
    cursor: pointer;
    transition: all 0.2s;
  }

  .donate-modal-close:hover {
    background: rgba(255, 255, 255, 0.3);
  }

  .donate-modal-body {
    position: relative;
    flex: 1;
    overflow-y: auto;
    padding: 1.5rem;
    min-height: 400px;
  }

  .donate-modal-loading {
    position: absolute;
    inset: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 1rem;
    color: #6b7280;
    background: white;
  }

  .donate-modal-loading.hidden {
    display: none;
  }

  .donate-spinner {
    width: 40px;
    height: 40px;
    border: 3px solid #e5e7eb;
    border-top-color: #2D8B4E;
    border-radius: 50%;
    animation: spin 1s linear infinite;
  }

  @keyframes spin {
    to { transform: rotate(360deg); }
  }

  .donate-modal-footer {
    padding: 1rem 1.5rem;
    border-top: 1px solid #e5e7eb;
    background: #f9fafb;
  }

  /* Mobile modal adjustments */
  @media (max-width: 640px) {
    .donate-modal {
      padding: 0;
      align-items: flex-end;
    }

    .donate-modal-container {
      max-width: 100%;
      max-height: 95vh;
      border-radius: 20px 20px 0 0;
      animation: modalSlideUp 0.3s ease;
    }

    @keyframes modalSlideUp {
      from {
        opacity: 0;
        transform: translateY(100%);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .donate-modal-header {
      padding: 1rem 1.25rem;
    }

    .donate-modal-title {
      font-size: 1.125rem;
    }

    .donate-modal-body {
      padding: 1rem;
      min-height: 350px;
    }

    .donate-modal-footer {
      padding: 0.75rem 1rem;
    }
  }

  /* CTA Section */
  .cta-icon {
    width: 80px;
    height: 80px;
    border-radius: 20px;
    background: rgba(255, 255, 255, 0.2);
    backdrop-filter: blur(10px);
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
  }

  .floating-orb {
    position: absolute;
    border-radius: 50%;
    filter: blur(40px);
    opacity: 0.3;
    pointer-events: none;
  }

  .floating-orb-1 {
    width: 200px;
    height: 200px;
    background: #F7931E;
    top: -50px;
    left: 10%;
    animation: float 8s ease-in-out infinite;
  }

  .floating-orb-2 {
    width: 150px;
    height: 150px;
    background: #8DC63F;
    bottom: -30px;
    right: 15%;
    animation: float 10s ease-in-out infinite reverse;
  }

  .floating-orb-3 {
    width: 100px;
    height: 100px;
    background: white;
    top: 50%;
    right: 5%;
    animation: float 6s ease-in-out infinite;
  }

  @keyframes float {
    0%, 100% { transform: translateY(0) translateX(0); }
    25% { transform: translateY(-20px) translateX(10px); }
    50% { transform: translateY(0) translateX(20px); }
    75% { transform: translateY(20px) translateX(10px); }
  }
</style>

<script>
  // FAQ functionality
  document.querySelectorAll('.faq-question').forEach(button => {
    button.addEventListener('click', () => {
      const index = button.getAttribute('data-faq');
      const answer = document.querySelector(`[data-faq-answer="${index}"]`);
      const chevron = button.querySelector('.faq-chevron');

      answer?.classList.toggle('open');
      chevron?.classList.toggle('open');
    });
  });

  // Modal elements
  const modal = document.getElementById('donate-modal');
  const modalClose = document.getElementById('donate-modal-close');
  const modalBackdrop = modal?.querySelector('.donate-modal-backdrop');
  const modalLoading = document.getElementById('modal-loading');
  const widgetContainer = document.getElementById('modal-widget-container');

  let widgetLoaded = false;
  let pendingAmount: string | undefined;
  let pendingMonthly = true;

  // Load GiveLively widget script
  function loadGiveLivelyWidget() {
    if (widgetLoaded) return;

    // Add the widget ID that GiveLively looks for
    if (widgetContainer) {
      widgetContainer.id = 'give-lively-widget';
    }

    const script = document.createElement('script');
    script.src = 'https://secure.givelively.org/widgets/simple_donation/fne-international.js?show_suggested_amount_buttons=false&show_in_honor_of=false&address_required=false';
    script.async = true;
    document.head.appendChild(script);

    widgetLoaded = true;
  }

  // Fill donation amount in the widget
  function fillDonationAmount(amount: string) {
    const amountInput = document.querySelector('#give-lively-widget .gl-widget__donation-input-field') as HTMLInputElement;
    if (amountInput) {
      amountInput.value = amount;
      amountInput.dispatchEvent(new Event('input', { bubbles: true }));
      amountInput.dispatchEvent(new Event('keyup', { bubbles: true }));
    }
  }

  // Select monthly frequency
  function selectMonthly() {
    const frequencyButtons = document.querySelectorAll('#give-lively-widget .gl-widget__frequency-buttons');
    if (frequencyButtons.length >= 2) {
      (frequencyButtons[1] as HTMLElement).click();
    }
  }

  // Wait for widget to load and configure it
  function configureWidget(amount?: string, monthly: boolean = true) {
    const checkWidget = setInterval(() => {
      const widgetReady = document.querySelector('#give-lively-widget .gl-widget__donation-input-field');
      if (widgetReady) {
        clearInterval(checkWidget);
        modalLoading?.classList.add('hidden');

        // Small delay to ensure widget is fully initialized
        setTimeout(() => {
          if (monthly) {
            selectMonthly();
          }
          if (amount) {
            fillDonationAmount(amount);
          }
        }, 300);
      }
    }, 100);

    // Stop checking after 10 seconds
    setTimeout(() => clearInterval(checkWidget), 10000);
  }

  // Open modal
  function openDonateModal(amount?: string, monthly: boolean = true) {
    if (!modal) return;

    pendingAmount = amount;
    pendingMonthly = monthly;

    modal.classList.add('open');
    document.body.style.overflow = 'hidden';
    modalLoading?.classList.remove('hidden');

    // Load widget if not already loaded
    loadGiveLivelyWidget();

    // Configure widget once loaded
    configureWidget(amount, monthly);
  }

  // Close modal
  function closeDonateModal() {
    if (!modal) return;
    modal.classList.remove('open');
    document.body.style.overflow = '';
  }

  // Event listeners
  modalClose?.addEventListener('click', closeDonateModal);
  modalBackdrop?.addEventListener('click', closeDonateModal);

  document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape' && modal?.classList.contains('open')) {
      closeDonateModal();
    }
  });

  // Donate buttons click
  document.querySelectorAll('[data-donate-monthly]').forEach(button => {
    button.addEventListener('click', () => {
      const btn = button as HTMLElement;
      const amount = btn.dataset.donateAmount || undefined;
      const monthly = btn.dataset.donateMonthly === 'true';
      openDonateModal(amount, monthly);
    });
  });
</script>
