---
import BaseLayout from '../../layouts/BaseLayout.astro';
import HeroSection from '../../components/HeroSection.astro';
import Section from '../../components/Section.astro';
import Container from '../../components/Container.astro';
import SectionHeader from '../../components/SectionHeader.astro';
import CTASection from '../../components/CTASection.astro';
import BlogPostsSection from '../../components/BlogPostsSection.astro';
import StatCard from '../../components/StatCard.astro';
import PhotoCard from '../../components/PhotoCard.astro';

const stats = [
  { value: '300+', label: 'Houses Built', icon: 'M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6' },
  { value: '150+', label: 'Scholarship Students', icon: 'M12 14l9-5-9-5-9 5 9 5zm0 0l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z' },
  { value: '120', label: 'Pediatric Patients', icon: 'M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z' },
  { value: '5.7', label: 'Acre Farm', icon: 'M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064' },
];

const housingDetails = {
  cost: '$5,500',
  familyContribution: '30%',
  fneContribution: '70%',
  features: [
    'One-room brick house',
    'Latrine included',
    'Built by local workers',
    'Families help with construction',
  ],
};

const educationPrograms = [
  {
    name: 'Tengo un Sueño (Dreamers)',
    description: 'An after-school program providing ESL instruction and math tutoring to help children dream bigger.',
    stats: '11 students aged 8-12',
    features: ['English as Second Language', 'Mathematics tutoring', 'Personal development', 'Dream building activities'],
    image: '/nicaragua/scholarship-students.jpg',
    imageAlt: 'Students in school uniforms',
    imagePosition: 'center 45%',
  },
  {
    name: 'Scholarship Program',
    description: 'Monthly stipends supporting students from elementary through university, covering school fees, uniforms, and supplies.',
    stats: '150+ students, $30-60/month',
    features: ['Elementary through university', 'Covers school fees', 'Uniforms and supplies', '5 communities in León'],
    image: '/nicaragua/scholarship-graduate.jpg',
    imageAlt: 'Scholarship graduate in cap and gown',
    imagePosition: '50% 25%',
  },
  {
    name: 'Biblioteca Ricardo Streb',
    description: 'The only library in the Chacraseca region, providing books, computer lab access, WiFi, and tutoring services.',
    stats: 'Serving entire Chacraseca region',
    features: ['Book lending library', 'Computer lab', 'Free WiFi access', 'Tutoring programs'],
    image: '/nicaragua/library-children.jpg',
    imageAlt: 'Children holding books at the Ricardo Streb Library',
    imagePosition: 'center 35%',
  },
  {
    name: 'Niño Feliz School',
    description: 'Supporting a special education school in Chichigalpa that provides essential services to children with disabilities.',
    stats: 'Special education support',
    features: ['Special needs education', 'Teacher training', 'Educational materials', 'Community integration'],
    image: '/nicaragua/special-needs-education.jpg',
    imageAlt: 'Special needs classroom with teacher and students',
    imagePosition: 'center',
  },
];

const healthPrograms = [
  {
    name: 'Salud para Todos los Niños (SPTLN)',
    description: 'A pediatric health program providing ongoing care for approximately 120 children with chronic conditions, including many with muscular dystrophy.',
    stats: '~120 pediatric patients',
    focus: 'Focus on Duchenne muscular dystrophy',
    services: ['Regular check-ups', 'Medication support', 'Physical therapy', 'Family counseling'],
    image: '/nicaragua/sptln-consultation.jpg',
    imageAlt: 'SPTLN medical consultation with family',
    imagePosition: 'center 40%',
  },
  {
    name: 'Medical Brigades',
    description: 'Organizing volunteer medical professionals to provide free healthcare services in underserved communities.',
    services: ['General medical care', 'Dental services', 'Vision screenings', 'Health education'],
    image: '/nicaragua/medical-brigade.jpg',
    imageAlt: 'Volunteer doctors examining patients during medical brigade',
    imagePosition: 'top',
  },
];

const agriculturePrograms = [
  {
    name: 'Finca Girasol (Sunflower Farm)',
    description: 'A 14-manzana (5.7 acre) agroecological farm demonstrating sustainable farming practices and providing training to local farmers.',
    stats: '5.7 acres of demonstration farm',
    features: ['Organic farming methods', 'Crop diversification', 'Water conservation', 'Farmer training programs'],
    image: '/nicaragua/farm-scenic-view.jpg',
    imageAlt: 'View of Finca Girasol farm',
  },
  {
    name: 'Sow Eat Grow',
    description: 'A nutrition and agriculture education program teaching families to grow their own vegetables and improve their diets.',
    features: ['Home garden setup', 'Nutrition education', 'Seed distribution', 'Cooking workshops'],
    image: '/nicaragua/home-garden.jpg',
    imageAlt: 'Family learning to plant vegetables in their home garden',
  },
];

const communities = [
  'Chacraseca',
  'La Ceiba',
  'Los Lechecuagos',
  'Salinas Grandes',
  'Monte Redondo',
];
---

<BaseLayout title="Nicaragua Programs" breadcrumbs={[{ label: 'Programs', href: '/programs' }, { label: 'Nicaragua' }]}>
  <!-- Hero Section -->
  <HeroSection
    badge="Nicaragua"
    title="Programs in"
    titleAccent="Nicaragua"
    subtitle="Our longest-running initiative, serving communities in the León Department since 1990 with comprehensive programs in housing, education, health, and agriculture."
    image="/housing.jpg"
    imageAlt="Housing construction in Nicaragua"
  />

  <!-- Quick Stats -->
  <Section background="white" padding="sm">
    <Container>
      <div class="grid grid-cols-2 md:grid-cols-4 gap-6">
        {stats.map((stat, index) => (
          <StatCard
            value={stat.value}
            label={stat.label}
            icon={stat.icon}
            animationDelay={(index + 1) * 100}
          />
        ))}
      </div>
    </Container>
  </Section>

  <!-- Nicaragua Photo Banner -->
  <Section background="gray" spacing="small">
    <div class="w-full overflow-hidden">
      <div class="photo-grid photo-grid-4 max-w-7xl mx-auto px-4">
        <PhotoCard image="/nicaragua/farm-scenic-view.jpg" alt="Scenic view of León countryside farm" animationDelay={100} />
        <PhotoCard image="/nicaragua/community-gathering.jpg" alt="Local community members gathering" animationDelay={200} />
        <PhotoCard image="/nicaragua/children-group.jpg" alt="Children smiling in Chacraseca" animationDelay={300} />
        <PhotoCard image="/nicaragua/volunteer-team.jpg" alt="Volunteer team group photo with local partners" animationDelay={400} />
      </div>
    </div>
  </Section>

  <!-- About Nicaragua -->
  <Section background="white">
    <Container size="md">
      <SectionHeader
        label="About Nicaragua"
        title="The Heart of Our Work"
        labelColor="teal"
      />

      <div class="grid md:grid-cols-2 gap-8 mb-8">
        <div class="info-card animate-slide-left">
          <div class="info-card-icon">
            <div class="icon-3d">
              <div class="icon-3d-inner animate-rotate-3d">
                <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064" />
                </svg>
              </div>
            </div>
          </div>
          <h3 class="text-lg font-bold text-gray-900 mb-4">Country Overview</h3>
          <p class="text-gray-600 mb-5">Nicaragua is the largest country in Central America and one of the poorest in the Western Hemisphere. Despite these challenges, the Nicaraguan people are known for their resilience and warmth.</p>
          <ul class="space-y-3 text-sm text-gray-600">
            <li class="flex items-start gap-2">
              <span class="text-[#2D8B4E] font-bold">Population:</span>
              <span>~6.5 million</span>
            </li>
            <li class="flex items-start gap-2">
              <span class="text-[#2D8B4E] font-bold">Capital:</span>
              <span>Managua</span>
            </li>
            <li class="flex items-start gap-2">
              <span class="text-[#2D8B4E] font-bold">Language:</span>
              <span>Spanish</span>
            </li>
          </ul>
        </div>
        <div class="info-card animate-slide-right">
          <div class="info-card-icon info-card-icon-orange">
            <div class="icon-float">
              <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
              </svg>
            </div>
          </div>
          <h3 class="text-lg font-bold text-gray-900 mb-4">Our Focus Region: León</h3>
          <p class="text-gray-600 mb-5">We work primarily in the León Department, focusing on rural communities where access to healthcare, education, and infrastructure is limited.</p>
          <div class="flex flex-wrap gap-2">
            {communities.map((community) => (
              <span class="community-tag">{community}</span>
            ))}
          </div>
        </div>
      </div>

      <!-- Interactive Map -->
      <div class="animate-on-scroll">
        <div id="nicaragua-map" class="nicaragua-map rounded-2xl overflow-hidden shadow-lg border border-[#2D8B4E]/20"></div>
      </div>
    </Container>
  </Section>

  <!-- Infrastructure / Housing -->
  <Section background="gray" withGrid id="infrastructure">
    <Container>
      <SectionHeader
        label="Infrastructure"
        title="Housing Program"
        subtitle="Building safe, dignified homes for families in need through a unique cost-sharing model."
      />

      <!-- Housing Gallery - Full Width -->
      <div class="housing-gallery-full mb-12 animate-on-scroll">
        <div class="housing-main-image-full relative rounded-2xl overflow-hidden">
          <img src="/housing.jpg" alt="Housing construction" class="w-full h-[400px] object-cover" />
          <div class="absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"></div>
          <div class="absolute bottom-6 left-6 text-white">
            <div class="text-4xl font-bold">300+</div>
            <div class="text-sm opacity-90">Houses Built</div>
          </div>
        </div>
        <div class="grid grid-cols-4 gap-4 mt-4">
          <div class="gallery-item animate-on-scroll delay-100">
            <img src="/nicaragua/housing-foundation.jpg" alt="Volunteers and family members laying foundation" class="w-full h-24 object-cover rounded-lg" />
          </div>
          <div class="gallery-item animate-on-scroll delay-200">
            <img src="/nicaragua/housing-construction.jpg" alt="Construction progress showing wall framing" class="w-full h-24 object-cover rounded-lg" />
          </div>
          <div class="gallery-item animate-on-scroll delay-300">
            <img src="/nicaragua/community-gathering.jpg" alt="Community members at housing project" class="w-full h-24 object-cover rounded-lg" />
          </div>
          <div class="gallery-item animate-on-scroll delay-400">
            <img src="/nicaragua/volunteer-team.jpg" alt="Volunteer team with local partners" class="w-full h-24 object-cover rounded-lg" />
          </div>
        </div>
      </div>

      <!-- Housing Details Grid -->
      <div class="grid lg:grid-cols-3 gap-8 mb-12">
        <!-- Cost Breakdown Card -->
        <div class="bg-white rounded-2xl p-6 shadow-sm border border-gray-100 animate-on-scroll">
          <div class="flex items-center gap-3 mb-4">
            <div class="w-12 h-12 rounded-xl bg-[#2D8B4E]/10 flex items-center justify-center">
              <svg class="w-6 h-6 text-[#2D8B4E]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
              </svg>
            </div>
            <h3 class="text-lg font-bold text-gray-900">Cost Breakdown</h3>
          </div>
          <div class="space-y-4">
            <div class="flex justify-between items-center pb-3 border-b border-gray-100">
              <span class="text-gray-600">Average Cost</span>
              <span class="text-2xl font-bold text-[#2D8B4E]">{housingDetails.cost}</span>
            </div>
            <div class="flex justify-between items-center pb-3 border-b border-gray-100">
              <span class="text-gray-600">Family Contribution</span>
              <span class="text-xl font-bold text-gray-900">{housingDetails.familyContribution}</span>
            </div>
            <div class="flex justify-between items-center">
              <span class="text-gray-600">FNE Contribution</span>
              <span class="text-xl font-bold text-[#3D9A8B]">{housingDetails.fneContribution}</span>
            </div>
          </div>
        </div>

        <!-- What's Included Card -->
        <div class="bg-white rounded-2xl p-6 shadow-sm border border-gray-100 animate-on-scroll delay-100">
          <div class="flex items-center gap-3 mb-4">
            <div class="w-12 h-12 rounded-xl bg-[#3D9A8B]/10 flex items-center justify-center">
              <svg class="w-6 h-6 text-[#3D9A8B]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />
              </svg>
            </div>
            <h3 class="text-lg font-bold text-gray-900">What's Included</h3>
          </div>
          <ul class="space-y-3">
            {housingDetails.features.map((feature) => (
              <li class="flex items-start gap-3">
                <svg class="w-5 h-5 text-[#2D8B4E] flex-shrink-0 mt-0.5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                </svg>
                <span class="text-gray-700">{feature}</span>
              </li>
            ))}
          </ul>
        </div>

        <!-- Our Model Card -->
        <div class="bg-white rounded-2xl p-6 shadow-sm border border-gray-100 animate-on-scroll delay-200">
          <div class="flex items-center gap-3 mb-4">
            <div class="w-12 h-12 rounded-xl bg-[#F7931E]/10 flex items-center justify-center">
              <svg class="w-6 h-6 text-[#F7931E]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z" />
              </svg>
            </div>
            <h3 class="text-lg font-bold text-gray-900">Our Model</h3>
          </div>
          <p class="text-gray-600 leading-relaxed">
            Families contribute 30% of the cost (often through labor), creating ownership and pride while making homes affordable. Local workers are employed for construction, keeping money in the community.
          </p>
        </div>
      </div>

      <!-- Additional Programs -->
      <div class="grid md:grid-cols-2 gap-6 animate-on-scroll">
        <div class="bg-white rounded-2xl p-6 shadow-sm border border-gray-100 flex items-start gap-4">
          <div class="w-14 h-14 rounded-xl bg-[#2D8B4E]/10 flex items-center justify-center flex-shrink-0">
            <svg class="w-7 h-7 text-[#2D8B4E]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4" />
            </svg>
          </div>
          <div>
            <h4 class="font-bold text-gray-900 mb-2">Latrine Construction</h4>
            <p class="text-gray-600">Building sanitary facilities to improve health and dignity in rural communities.</p>
          </div>
        </div>
        <div class="bg-white rounded-2xl p-6 shadow-sm border border-gray-100 flex items-start gap-4">
          <div class="w-14 h-14 rounded-xl bg-[#F7931E]/10 flex items-center justify-center flex-shrink-0">
            <svg class="w-7 h-7 text-[#F7931E]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
          </div>
          <div>
            <h4 class="font-bold text-gray-900 mb-2">Home Repair Loans</h4>
            <p class="text-gray-600">Low-interest loans helping families make essential repairs to existing homes.</p>
          </div>
        </div>
      </div>
    </Container>
  </Section>

  <!-- Education Programs -->
  <Section background="white" id="education">
    <Container>
      <SectionHeader
        label="Education"
        title="Building Futures Through Learning"
        subtitle="Comprehensive education programs from early childhood through university, breaking the cycle of poverty through knowledge."
        labelColor="teal"
      />

      <!-- Education Hero Image -->
      <div class="education-hero mb-12 animate-on-scroll">
        <div class="rounded-2xl overflow-hidden">
          <img src="/nicaragua/education-classroom.jpg" alt="Students in classroom raising hands during lesson" class="w-full h-auto object-cover" />
        </div>
      </div>

      <div class="grid md:grid-cols-2 gap-8">
        {educationPrograms.map((program, index) => (
          <div class={`program-card animate-on-scroll delay-${(index + 1) * 100}`}>
            <!-- Program Image -->
            <div class="program-image-wrapper">
              <img src={program.image} alt={program.imageAlt} class="w-full aspect-[4/3] object-cover" style={`object-position: ${program.imagePosition || 'top'}`} />
            </div>
            <div class="program-content">
              <!-- Floating animated icon -->
              <div class="program-icon icon-float">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253" />
                </svg>
              </div>
              <div class="program-header">
                <h3 class="text-xl font-bold text-gray-900">{program.name}</h3>
                {program.stats && <span class="program-stat">{program.stats}</span>}
              </div>
              <p class="text-gray-600 mb-5">{program.description}</p>
              <ul class="space-y-2">
                {program.features.map((feature) => (
                  <li class="flex items-center gap-2 text-sm text-gray-700">
                    <svg class="w-4 h-4 text-[#3D9A8B]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                    </svg>
                    {feature}
                  </li>
                ))}
              </ul>
            </div>
          </div>
        ))}
      </div>
    </Container>
  </Section>

  <!-- Health Programs -->
  <Section background="gray" withGrid id="health">
    <Container>
      <SectionHeader
        label="Health"
        title="Caring for Our Communities"
        subtitle="Providing essential healthcare services with a special focus on children with chronic conditions."
        labelColor="orange"
      />

      <div class="grid md:grid-cols-2 gap-8 mb-12">
        {healthPrograms.map((program, index) => (
          <div class={`health-card animate-on-scroll delay-${(index + 1) * 100}`}>
            <!-- Health Program Image -->
            <div class="health-image-wrapper">
              <img src={program.image} alt={program.imageAlt} class="w-full aspect-[4/3] object-cover" style={`object-position: ${program.imagePosition || 'top'}`} />
            </div>
            <div class="health-content">
              <!-- Animated heart icon -->
              <div class="health-icon icon-glow">
                <div class="animate-scale-pulse">
                  <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
                  </svg>
                </div>
              </div>
              <h3 class="text-xl font-bold text-gray-900 mb-2">{program.name}</h3>
              <div class="health-meta">
                {program.stats && <span class="health-stat">{program.stats}</span>}
                {program.focus && <span class="health-focus">{program.focus}</span>}
              </div>
              <p class="text-gray-600 mb-5 mt-4">{program.description}</p>
              <div class="flex flex-wrap gap-2">
                {program.services.map((service) => (
                  <span class="service-tag">{service}</span>
                ))}
              </div>
            </div>
          </div>
        ))}
      </div>

      <div class="health-highlight animate-on-scroll">
        <div class="flex flex-col md:flex-row gap-6 items-start">
          <div class="health-highlight-image flex-shrink-0">
            <div class="w-full md:w-64 rounded-xl overflow-hidden">
              <img src="/nicaragua/sptln-patient.jpg" alt="SPTLN patient" class="w-full h-auto object-cover" />
            </div>
          </div>
          <div class="flex-1">
            <div class="flex items-start gap-4">
              <div class="w-16 h-16 rounded-2xl bg-[#F7931E]/10 flex items-center justify-center flex-shrink-0">
                <div class="animate-rotate-3d">
                  <svg class="w-8 h-8 text-[#F7931E]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
                  </svg>
                </div>
              </div>
              <div>
                <h3 class="text-lg font-bold text-gray-900 mb-3">Fighting Duchenne Muscular Dystrophy</h3>
                <p class="text-gray-600 leading-relaxed">
                  Our SPTLN program has a special focus on children with Duchenne muscular dystrophy, a rare genetic condition that causes progressive muscle weakness. We provide ongoing medical care, physical therapy, wheelchairs, and emotional support to these children and their families.
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </Container>
  </Section>

  <!-- Agriculture Programs -->
  <Section background="white" id="agriculture">
    <Container>
      <SectionHeader
        label="Food & Agriculture"
        title="Growing Sustainable Futures"
        subtitle="Teaching sustainable farming practices and improving nutrition through hands-on education."
        labelColor="green"
      />

      <div class="agriculture-showcase">
        {agriculturePrograms.map((program, index) => (
          <div class={`agriculture-card-large ${index === 1 ? 'agriculture-card-reverse' : ''} animate-on-scroll`}>
            <div class="agriculture-image">
              <img src={program.image} alt={program.imageAlt} class="w-full h-full object-cover min-h-[250px]" />
            </div>
            <div class="agriculture-content">
              <!-- Floating leaf icon -->
              <div class="agriculture-icon icon-float">
                <svg class="w-7 h-7" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064" />
                </svg>
              </div>
              <h3 class="text-2xl font-bold text-gray-900 mb-2">{program.name}</h3>
              {program.stats && <div class="agriculture-stat">{program.stats}</div>}
              <p class="text-gray-600 mb-6 mt-4 leading-relaxed">{program.description}</p>
              <ul class="space-y-3">
                {program.features.map((feature) => (
                  <li class="flex items-center gap-3 text-gray-700">
                    <svg class="w-5 h-5 text-[#8DC63F]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                    </svg>
                    {feature}
                  </li>
                ))}
              </ul>
            </div>
          </div>
        ))}
      </div>

      <!-- Farm Photo Gallery -->
      <div class="farm-gallery mt-12 animate-on-scroll">
        <h3 class="text-lg font-bold text-gray-900 mb-6 text-center">Finca Girasol in Action</h3>
        <div class="photo-grid photo-grid-4">
          <div class="photo-card">
            <img src="/nicaragua/farm-harvest.jpg" alt="Farmers harvesting vegetables at the farm" class="w-full h-full object-cover rounded-xl" />
          </div>
          <div class="photo-card">
            <img src="/nicaragua/farm-training.jpg" alt="Training session on organic methods" class="w-full h-full object-cover rounded-xl" />
          </div>
          <div class="photo-card">
            <img src="/nicaragua/farm-learning.jpg" alt="Learning about crop care" class="w-full h-full object-cover rounded-xl" />
          </div>
          <div class="photo-card">
            <img src="/nicaragua/farm-workers.jpg" alt="Farm workers tending to crops" class="w-full h-full object-cover rounded-xl" />
          </div>
        </div>
      </div>
    </Container>
  </Section>

  <!-- Blog Posts Section -->
  <BlogPostsSection
    title="Stories from Nicaragua"
    subtitle="Read about the impact our programs are making in Nicaraguan communities."
    label="From Our Blog"
    limit={3}
  />

  <!-- Get Involved CTA -->
  <CTASection
    title="Support Our Nicaragua Programs"
    subtitle="Join a volunteer trip, sponsor a scholarship student, or donate to help us continue this vital work."
    primaryButtonText="Join a Trip"
    primaryButtonLink="/get-involved/trips"
    secondaryButtonText="Donate Now"
    secondaryButtonLink="/donate"
  />
</BaseLayout>

<style>
  /* Info cards */
  .info-card {
    background: white;
    padding: 2rem;
    border-radius: 20px;
    border: 1px solid rgba(45, 139, 78, 0.1);
    position: relative;
  }

  .info-card-icon {
    width: 72px;
    height: 72px;
    margin-bottom: 1.5rem;
    background: linear-gradient(135deg, rgba(45, 139, 78, 0.1), rgba(61, 154, 139, 0.1));
    border-radius: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #2D8B4E;
  }

  .info-card-icon-orange {
    background: linear-gradient(135deg, rgba(247, 147, 30, 0.1), rgba(45, 139, 78, 0.1));
    color: #F7931E;
  }

  .community-tag {
    display: inline-block;
    padding: 0.5rem 1rem;
    background: rgba(45, 139, 78, 0.08);
    border-radius: 9999px;
    font-size: 0.75rem;
    font-weight: 600;
    color: #2D8B4E;
  }

  /* Gallery items */
  .gallery-item {
    transition: transform 0.3s ease;
  }

  .gallery-item:hover {
    transform: scale(1.05);
  }

  /* Program cards with images */
  .program-card {
    background: white;
    border-radius: 20px;
    border: 1px solid rgba(45, 139, 78, 0.1);
    overflow: hidden;
    transition: all 0.3s ease;
  }

  .program-card:hover {
    border-color: rgba(45, 139, 78, 0.3);
    box-shadow: 0 10px 30px rgba(45, 139, 78, 0.1);
    transform: translateY(-4px);
  }

  .program-image-wrapper {
    position: relative;
  }

  .program-image-wrapper .image-placeholder {
    border-radius: 0;
    border: none;
    border-bottom: 2px dashed rgba(45, 139, 78, 0.2);
  }

  .program-content {
    padding: 2rem;
    position: relative;
  }

  .program-icon {
    position: absolute;
    top: -24px;
    right: 1.5rem;
    width: 48px;
    height: 48px;
    background: linear-gradient(135deg, #3D9A8B, #2D8B4E);
    border-radius: 14px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    box-shadow: 0 8px 20px rgba(61, 154, 139, 0.3);
  }

  .program-header {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    gap: 0.75rem;
    margin-bottom: 0.75rem;
  }

  .program-stat {
    font-size: 0.75rem;
    font-weight: 600;
    color: #3D9A8B;
    background: rgba(61, 154, 139, 0.1);
    padding: 0.375rem 0.875rem;
    border-radius: 9999px;
  }

  /* Health cards */
  .health-card {
    background: white;
    border-radius: 20px;
    border: 1px solid rgba(247, 147, 30, 0.1);
    overflow: hidden;
    transition: all 0.3s ease;
  }

  .health-card:hover {
    border-color: rgba(247, 147, 30, 0.3);
    box-shadow: 0 10px 30px rgba(247, 147, 30, 0.1);
    transform: translateY(-4px);
  }

  .health-image-wrapper .image-placeholder {
    border-radius: 0;
    border: none;
    border-bottom: 2px dashed rgba(247, 147, 30, 0.2);
  }

  .health-content {
    padding: 2rem;
    position: relative;
  }

  .health-icon {
    position: absolute;
    top: -24px;
    right: 1.5rem;
    width: 48px;
    height: 48px;
    background: linear-gradient(135deg, #F7931E, #ff6b00);
    border-radius: 14px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    box-shadow: 0 8px 20px rgba(247, 147, 30, 0.3);
  }

  .health-meta {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
    margin-top: 0.5rem;
  }

  .health-stat {
    font-size: 0.875rem;
    font-weight: 600;
    color: #F7931E;
  }

  .health-focus {
    font-size: 0.75rem;
    color: #666;
    background: rgba(247, 147, 30, 0.1);
    padding: 0.25rem 0.75rem;
    border-radius: 9999px;
  }

  .service-tag {
    display: inline-block;
    padding: 0.5rem 1rem;
    background: rgba(247, 147, 30, 0.08);
    border-radius: 9999px;
    font-size: 0.75rem;
    font-weight: 500;
    color: #F7931E;
  }

  .health-highlight {
    background: white;
    padding: 2rem;
    border-radius: 24px;
    border: 1px solid rgba(247, 147, 30, 0.1);
  }

  .health-highlight-image {
    width: 100%;
  }

  @media (min-width: 768px) {
    .health-highlight-image {
      width: 250px;
    }
  }

  /* Agriculture cards */
  .agriculture-showcase {
    display: flex;
    flex-direction: column;
    gap: 2rem;
  }

  .agriculture-card-large {
    display: grid;
    gap: 2rem;
    background: white;
    border-radius: 24px;
    border: 1px solid rgba(141, 198, 63, 0.2);
    overflow: hidden;
    transition: all 0.3s ease;
  }

  @media (min-width: 768px) {
    .agriculture-card-large {
      grid-template-columns: 1fr 1fr;
    }

    .agriculture-card-reverse {
      direction: rtl;
    }

    .agriculture-card-reverse > * {
      direction: ltr;
    }
  }

  .agriculture-card-large:hover {
    border-color: rgba(141, 198, 63, 0.4);
    box-shadow: 0 20px 60px rgba(141, 198, 63, 0.1);
  }

  .agriculture-image .image-placeholder {
    height: 100%;
    min-height: 250px;
    border-radius: 0;
    border: none;
  }

  .agriculture-content {
    padding: 2.5rem;
    position: relative;
    display: flex;
    flex-direction: column;
    justify-content: center;
  }

  .agriculture-icon {
    position: absolute;
    top: 1.5rem;
    right: 1.5rem;
    width: 56px;
    height: 56px;
    background: linear-gradient(135deg, #8DC63F, #6BA32D);
    border-radius: 16px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    box-shadow: 0 8px 24px rgba(141, 198, 63, 0.3);
  }

  .agriculture-stat {
    display: inline-block;
    font-size: 0.875rem;
    font-weight: 600;
    color: #8DC63F;
    background: rgba(141, 198, 63, 0.1);
    padding: 0.375rem 1rem;
    border-radius: 9999px;
    margin-top: 0.5rem;
    width: fit-content;
  }

  /* CTA Section */
  .cta-section {
    position: relative;
    text-align: center;
    padding: 4rem 2rem;
    background: white;
    border-radius: 32px;
    border: 1px solid rgba(45, 139, 78, 0.1);
    overflow: hidden;
  }

  .cta-icon-wrapper {
    display: flex;
    justify-content: center;
  }

  .cta-icon-circle {
    width: 80px;
    height: 80px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: linear-gradient(135deg, rgba(247, 147, 30, 0.15), rgba(45, 139, 78, 0.15));
    border-radius: 24px;
    color: #F7931E;
    border: 2px solid rgba(247, 147, 30, 0.2);
  }

  .cta-orb {
    position: absolute;
    border-radius: 50%;
    filter: blur(60px);
    opacity: 0.15;
    pointer-events: none;
  }

  .cta-orb-1 {
    width: 300px;
    height: 300px;
    background: #2D8B4E;
    top: -100px;
    right: -100px;
    animation: float 8s ease-in-out infinite;
  }

  .cta-orb-2 {
    width: 200px;
    height: 200px;
    background: #F7931E;
    bottom: -50px;
    left: -50px;
    animation: float 6s ease-in-out infinite reverse;
  }

  /* Leaflet Map Styles */
  .nicaragua-map {
    height: 400px;
    width: 100%;
    background: #f0fdf4;
  }

  @media (max-width: 640px) {
    .nicaragua-map {
      height: 300px;
    }
  }
</style>

<!-- Leaflet CSS -->
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />

<!-- Leaflet JS -->
<script is:inline src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>

<script is:inline>
  document.addEventListener('DOMContentLoaded', function() {
    // Initialize the map centered on León, Nicaragua
    const map = L.map('nicaragua-map', {
      scrollWheelZoom: false
    }).setView([12.44, -86.85], 11);

    // Add OpenStreetMap tiles with custom styling
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      maxZoom: 19,
      attribution: '© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>'
    }).addTo(map);

    // Custom green marker icon
    const greenIcon = L.divIcon({
      className: 'custom-marker',
      html: `<div style="
        background: linear-gradient(135deg, #2D8B4E, #3d9a8b);
        width: 24px;
        height: 24px;
        border-radius: 50% 50% 50% 0;
        transform: rotate(-45deg);
        border: 3px solid white;
        box-shadow: 0 2px 8px rgba(0,0,0,0.3);
      "></div>`,
      iconSize: [24, 24],
      iconAnchor: [12, 24],
      popupAnchor: [0, -24]
    });

    // Community locations (approximate coordinates around León)
    const communities = [
      { name: 'Chacraseca', coords: [12.475, -86.825], desc: 'Main program hub with library, housing, and education programs' },
      { name: 'La Ceiba', coords: [12.42, -86.78], desc: 'Scholarship and housing program community' },
      { name: 'Los Lechecuagos', coords: [12.52, -86.88], desc: 'Agriculture and education programs' },
      { name: 'Salinas Grandes', coords: [12.38, -86.72], desc: 'Housing and health program community' },
      { name: 'Monte Redondo', coords: [12.48, -86.92], desc: 'Education and agriculture programs' }
    ];

    // Add markers for each community
    communities.forEach(function(community) {
      L.marker(community.coords, { icon: greenIcon })
        .addTo(map)
        .bindPopup(`
          <div style="text-align: center; min-width: 150px;">
            <strong style="color: #2D8B4E; font-size: 14px;">${community.name}</strong>
            <p style="margin: 8px 0 0; font-size: 12px; color: #666;">${community.desc}</p>
          </div>
        `);
    });

    // Add León city marker (larger, different style)
    const leonIcon = L.divIcon({
      className: 'custom-marker-leon',
      html: `<div style="
        background: #F7931E;
        width: 16px;
        height: 16px;
        border-radius: 50%;
        border: 3px solid white;
        box-shadow: 0 2px 8px rgba(0,0,0,0.3);
      "></div>`,
      iconSize: [16, 16],
      iconAnchor: [8, 8],
      popupAnchor: [0, -8]
    });

    L.marker([12.4379, -86.8780], { icon: leonIcon })
      .addTo(map)
      .bindPopup(`
        <div style="text-align: center;">
          <strong style="color: #F7931E; font-size: 14px;">León</strong>
          <p style="margin: 8px 0 0; font-size: 12px; color: #666;">Regional capital city</p>
        </div>
      `);

    // Enable scroll wheel zoom when map is clicked
    map.on('click', function() {
      map.scrollWheelZoom.enable();
    });

    // Disable when mouse leaves
    map.on('mouseout', function() {
      map.scrollWheelZoom.disable();
    });
  });
</script>
