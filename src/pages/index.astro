---
import BaseLayout from '../layouts/BaseLayout.astro';
import CTASection from '../components/CTASection.astro';
import { useStoryblokApi } from '@storyblok/astro';
import { getOptimizedImageUrl, getCategoryLabel, getCategoryColors, type BlogPost } from '../lib/storyblok';

// Fetch latest blog posts for the bento grid
const storyblokApi = useStoryblokApi();
let blogPosts: BlogPost[] = [];

try {
  const { data } = await storyblokApi.get('cdn/stories', {
    version: import.meta.env.DEV ? 'draft' : 'published',
    starts_with: 'blog/',
    is_startpage: false,
    sort_by: 'content.publish_date:desc',
    per_page: 5,
    filter_query: {
      featured: { is: true },
    },
  });
  blogPosts = data.stories as BlogPost[];
} catch {
  blogPosts = [];
}
---

<BaseLayout title="Home">
  <!-- Hero Section - Ultra Futuristic Light Mode -->
  <section class="relative min-h-[75vh] flex items-center overflow-hidden bg-gradient-to-br from-emerald-50 via-white to-orange-50/50">
    <!-- Animated gradient mesh -->
    <div class="absolute inset-0">
      <div class="absolute inset-0 -z-10 bg-[radial-gradient(ellipse_80%_80%_at_50%_-20%,rgba(45,139,78,0.15),transparent)]"></div>
      <div class="absolute inset-0 -z-10 bg-[radial-gradient(ellipse_60%_60%_at_80%_80%,rgba(247,147,30,0.1),transparent)]"></div>
      <div class="absolute inset-0 -z-10 bg-[radial-gradient(ellipse_50%_50%_at_20%_60%,rgba(61,154,139,0.1),transparent)]"></div>
    </div>

    <!-- Floating orbs -->
    <div class="absolute inset-0 overflow-hidden">
      <div class="floating-orb orb-1"></div>
      <div class="floating-orb orb-2"></div>
      <div class="floating-orb orb-3"></div>
    </div>

    <!-- Cyber grid -->
    <div class="absolute inset-0 cyber-grid opacity-30"></div>

    <!-- Floating particles -->
    <div class="particles">
      <div class="particle"></div>
      <div class="particle"></div>
      <div class="particle"></div>
      <div class="particle"></div>
      <div class="particle"></div>
      <div class="particle"></div>
      <div class="particle"></div>
      <div class="particle"></div>
    </div>

    <!-- Mobile hero background image -->
    <div class="absolute inset-0 lg:hidden">
      <img src="/hero.png" alt="" class="w-full h-full object-cover object-top opacity-60" />
      <div class="absolute inset-0 bg-gradient-to-b from-white/60 via-white/40 to-white/70"></div>
    </div>

    <div class="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 z-10">
      <div class="grid lg:grid-cols-2 gap-16 items-center">
        <div>
          <!-- Glowing badge -->
          <div class="inline-flex items-center gap-3 glass-card px-5 py-3 rounded-full mb-8 border border-[#2D8B4E]/20 shadow-lg">
            <span class="relative flex h-3 w-3">
              <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-[#2D8B4E] opacity-75"></span>
              <span class="relative inline-flex rounded-full h-3 w-3 bg-[#2D8B4E]"></span>
            </span>
            <span class="text-[#2D8B4E] text-sm font-semibold tracking-wider uppercase">Pathways Out of Poverty</span>
          </div>

          <h1 class="text-6xl md:text-7xl lg:text-8xl font-black mb-8 leading-[0.9] tracking-tight hero-headline">
            <span class="block text-gray-900 text-reveal">Facilitate.</span>
            <span class="block neon-text neon-glow" style="animation-delay: 0.2s">Network.</span>
            <span class="block text-gray-900 text-reveal" style="animation-delay: 0.4s">Empower.</span>
          </h1>

          <p class="text-xl md:text-2xl mb-12 text-gray-600 max-w-xl leading-relaxed font-light">
            Building <span class="text-gray-900 font-medium">pathways out of poverty</span> through education, healthcare, and sustainable community development.
          </p>

          <div class="flex flex-col sm:flex-row gap-5">
            <a href="/donate" class="cyber-button primary group">
              <span class="relative z-10 flex items-center justify-center gap-2">
                <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                  <path fill-rule="evenodd" d="M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z" clip-rule="evenodd"/>
                </svg>
                Donate Now
              </span>
              <div class="cyber-button-glitch"></div>
            </a>
            <a href="/get-involved" class="cyber-button secondary group">
              <span class="relative z-10">Get Involved</span>
              <svg class="ml-2 w-5 h-5 group-hover:translate-x-2 transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" />
              </svg>
            </a>
          </div>
        </div>

        <!-- Hero image -->
        <div class="relative hidden lg:block">
          <div class="image-frame aspect-square">
            <img
              src="/hero.png"
              alt="FNE International volunteers working with community members"
              class="w-full h-full object-cover object-top rounded-[20px]"
            />
            <!-- Floating accent images -->
            <div class="absolute -bottom-8 -left-8 w-32 h-32 image-frame-small overflow-hidden">
              <img
                src="/hero-accent-1.jpg"
                alt="FNE community moment"
                class="w-full h-full object-cover rounded-[14px]"
              />
            </div>
            <div class="absolute -top-8 -right-8 w-24 h-24 image-frame-small overflow-hidden">
              <img
                src="/hero-accent-2.jpg"
                alt="FNE community celebration"
                class="w-full h-full object-cover rounded-[14px]"
              />
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Scroll indicator - double chevron -->
    <div class="absolute bottom-4 left-1/2 -translate-x-1/2 z-10">
      <a href="#impact" class="scroll-chevrons">
        <svg class="w-6 h-6 text-[#2D8B4E] chevron-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
        </svg>
        <svg class="w-6 h-6 text-[#2D8B4E]/60 chevron-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
        </svg>
      </a>
    </div>
  </section>

  <!-- Impact Stats - Holographic cards -->
  <section id="impact" class="py-32 bg-gray-50 relative overflow-hidden">
    <!-- Background effects -->
    <div class="absolute inset-0 -z-10 bg-[radial-gradient(circle_at_30%_50%,rgba(45,139,78,0.08),transparent_50%)]"></div>

    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative">
      <div class="text-center mb-20">
        <p class="text-[#F7931E] font-semibold tracking-[0.3em] uppercase mb-4 text-sm">Our Impact</p>
        <h2 class="text-5xl md:text-6xl font-black text-gray-900">
          Creating <span class="neon-text">Lasting</span> Change
        </h2>
      </div>

      <div class="grid grid-cols-2 lg:grid-cols-4 gap-6" id="stats-grid">
        <div class="stat-card group">
          <div class="stat-card-inner">
            <div class="stat-number">
              <span class="counter text-transparent bg-clip-text bg-gradient-to-r from-[#2D8B4E] to-[#8DC63F]" data-target="15000" data-suffix="k+" data-divide="1000">0</span>
            </div>
            <p class="text-gray-500 mt-3 font-medium tracking-wide">Volunteer Hours</p>
            <div class="stat-bar">
              <div class="stat-bar-fill" style="--bar-width: 100%"></div>
            </div>
          </div>
        </div>

        <div class="stat-card group">
          <div class="stat-card-inner">
            <div class="stat-number">
              <span class="counter text-transparent bg-clip-text bg-gradient-to-r from-[#3D9A8B] to-[#2D8B4E]" data-target="12000" data-suffix="k+" data-divide="1000">0</span>
            </div>
            <p class="text-gray-500 mt-3 font-medium tracking-wide">Lives Impacted</p>
            <div class="stat-bar">
              <div class="stat-bar-fill" style="--bar-width: 100%"></div>
            </div>
          </div>
        </div>

        <div class="stat-card group">
          <div class="stat-card-inner">
            <div class="stat-number">
              <span class="counter text-transparent bg-clip-text bg-gradient-to-r from-[#8DC63F] to-[#F7931E]" data-target="100" data-suffix="+">0</span>
            </div>
            <p class="text-gray-500 mt-3 font-medium tracking-wide">Eco-Latrines Built</p>
            <div class="stat-bar">
              <div class="stat-bar-fill" style="--bar-width: 100%"></div>
            </div>
          </div>
        </div>

        <div class="stat-card group">
          <div class="stat-card-inner">
            <div class="stat-number">
              <span class="counter text-transparent bg-clip-text bg-gradient-to-r from-[#F7931E] to-[#ff6b00]" data-target="12" data-suffix="">0</span>
            </div>
            <p class="text-gray-500 mt-3 font-medium tracking-wide">Medical Brigades</p>
            <div class="stat-bar">
              <div class="stat-bar-fill" style="--bar-width: 100%"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Blog Stories Showcase -->
  <section class="py-32 bg-white relative overflow-hidden">
    <div class="absolute inset-0 -z-10 bg-[radial-gradient(ellipse_at_center,rgba(61,154,139,0.05),transparent_70%)]"></div>

    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative">
      <div class="text-center mb-16">
        <p class="text-[#3D9A8B] font-semibold tracking-[0.3em] uppercase mb-4 text-sm">From Our Blog</p>
        <h2 class="text-5xl md:text-6xl font-black text-gray-900 mb-6">
          Stories of <span class="neon-text">Impact</span>
        </h2>
      </div>

      {blogPosts.length > 0 ? (
        <>
          <!-- Bento grid for blog posts -->
          <div class="bento-grid">
            {blogPosts[0] && (
              <a href={`/blog/${blogPosts[0].slug.replace('blog/', '')}`} class="bento-item bento-large group">
                {blogPosts[0].content.featured_image?.filename ? (
                  <img
                    src={getOptimizedImageUrl(blogPosts[0].content.featured_image.filename, { width: 800 })}
                    alt={blogPosts[0].content.featured_image.alt || blogPosts[0].content.title}
                    class="absolute inset-0 w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"
                  />
                ) : (
                  <div class="bento-image-placeholder">
                    <div class="placeholder-content">
                      <svg class="w-12 h-12 text-[#2D8B4E]/20 mb-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" />
                      </svg>
                    </div>
                  </div>
                )}
                <div class="bento-overlay bento-overlay-visible">
                  <span class={`text-xs font-semibold px-2 py-1 rounded-full ${getCategoryColors(blogPosts[0].content.category).bg} ${getCategoryColors(blogPosts[0].content.category).text}`}>
                    {getCategoryLabel(blogPosts[0].content.category)}
                  </span>
                  <span class="text-white font-bold text-xl mt-2">{blogPosts[0].content.title}</span>
                </div>
              </a>
            )}

            {blogPosts[1] && (
              <a href={`/blog/${blogPosts[1].slug.replace('blog/', '')}`} class="bento-item bento-tall group">
                {blogPosts[1].content.featured_image?.filename ? (
                  <img
                    src={getOptimizedImageUrl(blogPosts[1].content.featured_image.filename, { width: 400 })}
                    alt={blogPosts[1].content.featured_image.alt || blogPosts[1].content.title}
                    class="absolute inset-0 w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"
                  />
                ) : (
                  <div class="bento-image-placeholder">
                    <div class="placeholder-content">
                      <svg class="w-10 h-10 text-[#2D8B4E]/20 mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z" />
                      </svg>
                    </div>
                  </div>
                )}
                <div class="bento-overlay bento-overlay-visible">
                  <span class="text-white font-semibold line-clamp-2">{blogPosts[1].content.title}</span>
                </div>
              </a>
            )}

            {blogPosts[2] && (
              <a href={`/blog/${blogPosts[2].slug.replace('blog/', '')}`} class="bento-item group">
                {blogPosts[2].content.featured_image?.filename ? (
                  <img
                    src={getOptimizedImageUrl(blogPosts[2].content.featured_image.filename, { width: 300 })}
                    alt={blogPosts[2].content.featured_image.alt || blogPosts[2].content.title}
                    class="absolute inset-0 w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"
                  />
                ) : (
                  <div class="bento-image-placeholder">
                    <div class="placeholder-content">
                      <svg class="w-8 h-8 text-[#2D8B4E]/20 mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z" />
                      </svg>
                    </div>
                  </div>
                )}
                <div class="bento-overlay bento-overlay-visible">
                  <span class="text-white font-semibold text-sm line-clamp-2">{blogPosts[2].content.title}</span>
                </div>
              </a>
            )}

            {blogPosts[3] && (
              <a href={`/blog/${blogPosts[3].slug.replace('blog/', '')}`} class="bento-item group">
                {blogPosts[3].content.featured_image?.filename ? (
                  <img
                    src={getOptimizedImageUrl(blogPosts[3].content.featured_image.filename, { width: 300 })}
                    alt={blogPosts[3].content.featured_image.alt || blogPosts[3].content.title}
                    class="absolute inset-0 w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"
                  />
                ) : (
                  <div class="bento-image-placeholder">
                    <div class="placeholder-content">
                      <svg class="w-8 h-8 text-[#2D8B4E]/20 mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z" />
                      </svg>
                    </div>
                  </div>
                )}
                <div class="bento-overlay bento-overlay-visible">
                  <span class="text-white font-semibold text-sm line-clamp-2">{blogPosts[3].content.title}</span>
                </div>
              </a>
            )}

            {blogPosts[4] && (
              <a href={`/blog/${blogPosts[4].slug.replace('blog/', '')}`} class="bento-item bento-wide group">
                {blogPosts[4].content.featured_image?.filename ? (
                  <img
                    src={getOptimizedImageUrl(blogPosts[4].content.featured_image.filename, { width: 600 })}
                    alt={blogPosts[4].content.featured_image.alt || blogPosts[4].content.title}
                    class="absolute inset-0 w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"
                  />
                ) : (
                  <div class="bento-image-placeholder">
                    <div class="placeholder-content">
                      <svg class="w-10 h-10 text-[#2D8B4E]/20 mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z" />
                      </svg>
                    </div>
                  </div>
                )}
                <div class="bento-overlay bento-overlay-visible">
                  <span class="text-white font-semibold line-clamp-1">{blogPosts[4].content.title}</span>
                </div>
              </a>
            )}
          </div>

          <!-- CTA to blog -->
          <div class="text-center mt-12">
            <a href="/blog" class="cyber-button secondary group">
              <span class="relative z-10">Read Our Blog</span>
              <svg class="ml-2 w-5 h-5 group-hover:translate-x-2 transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" />
              </svg>
            </a>
          </div>
        </>
      ) : (
        <div class="text-center py-16">
          <p class="text-gray-500 mb-6">No blog posts yet. Check back soon!</p>
          <a href="/blog" class="cyber-button secondary">
            <span class="relative z-10">Visit Blog</span>
          </a>
        </div>
      )}
    </div>
  </section>

  <!-- Programs Section - Cyberpunk cards -->
  <section class="py-32 bg-gray-50 relative overflow-hidden">
    <div class="absolute inset-0 -z-10 bg-[radial-gradient(ellipse_at_bottom,rgba(247,147,30,0.08),transparent_60%)]"></div>

    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative">
      <div class="text-center mb-20">
        <p class="text-[#F7931E] font-semibold tracking-[0.3em] uppercase mb-4 text-sm">Where We Work</p>
        <h2 class="text-5xl md:text-6xl font-black text-gray-900">Our <span class="neon-text">Programs</span></h2>
      </div>

      <div class="grid md:grid-cols-3 gap-8">
        <!-- Nicaragua -->
        <a href="/programs/nicaragua" class="program-card group">
          <div class="program-card-inner">
            <!-- Image -->
            <div class="program-image">
              <img
                src="/program-nicaragua.jpg"
                alt="FNE International program in Nicaragua"
                class="absolute inset-0 w-full h-full object-cover object-top transition-transform duration-500 group-hover:scale-105"
              />
              <div class="program-flag">ðŸ‡³ðŸ‡®</div>
            </div>
            <div class="program-content">
              <h3 class="text-2xl font-bold text-gray-900 mb-3 group-hover:text-[#2D8B4E] transition-colors">Nicaragua</h3>
              <p class="text-gray-500 text-sm leading-relaxed mb-4">Education programs, health initiatives, and housing construction in communities across Nicaragua.</p>
              <div class="program-link">
                <span>Explore programs</span>
                <svg class="w-4 h-4 group-hover:translate-x-2 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" />
                </svg>
              </div>
            </div>
            <div class="program-glow program-glow-green"></div>
          </div>
        </a>

        <!-- Peru -->
        <a href="/programs/peru" class="program-card group">
          <div class="program-card-inner">
            <div class="program-image">
              <img
                src="/program-peru.jpg"
                alt="FNE International program in Peru"
                class="absolute inset-0 w-full h-full object-cover object-top transition-transform duration-500 group-hover:scale-105"
              />
              <div class="program-flag">ðŸ‡µðŸ‡ª</div>
            </div>
            <div class="program-content">
              <h3 class="text-2xl font-bold text-gray-900 mb-3 group-hover:text-[#3D9A8B] transition-colors">Peru</h3>
              <p class="text-gray-500 text-sm leading-relaxed mb-4">Sustainable development and community empowerment programs throughout Peru.</p>
              <div class="program-link teal">
                <span>Explore programs</span>
                <svg class="w-4 h-4 group-hover:translate-x-2 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" />
                </svg>
              </div>
            </div>
            <div class="program-glow program-glow-teal"></div>
          </div>
        </a>

        <!-- Dominican Republic -->
        <a href="/programs/dominican-republic" class="program-card group">
          <div class="program-card-inner">
            <div class="program-image">
              <img
                src="/program-dr.avif"
                alt="FNE International program in Dominican Republic"
                class="absolute inset-0 w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"
              />
              <div class="program-flag">ðŸ‡©ðŸ‡´</div>
            </div>
            <div class="program-content">
              <h3 class="text-2xl font-bold text-gray-900 mb-3 group-hover:text-[#F7931E] transition-colors">Dominican Republic</h3>
              <p class="text-gray-500 text-sm leading-relaxed mb-4">Healthcare access and community development initiatives in the Dominican Republic.</p>
              <div class="program-link orange">
                <span>Explore programs</span>
                <svg class="w-4 h-4 group-hover:translate-x-2 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" />
                </svg>
              </div>
            </div>
            <div class="program-glow program-glow-orange"></div>
          </div>
        </a>
      </div>
    </div>
  </section>

  <!-- Hope Collective - Epic CTA -->
  <section class="py-40 relative overflow-hidden bg-gradient-to-br from-emerald-50 via-white to-orange-50/30">
    <!-- Massive gradient orbs -->
    <div class="absolute inset-0">
      <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[800px] h-[800px] bg-[#2D8B4E] rounded-full filter blur-[200px] opacity-10 animate-pulse-slow"></div>
      <div class="absolute top-0 right-0 w-[600px] h-[600px] bg-[#F7931E] rounded-full filter blur-[150px] opacity-5 animate-float"></div>
      <div class="absolute bottom-0 left-0 w-[500px] h-[500px] bg-[#3D9A8B] rounded-full filter blur-[150px] opacity-8 animate-float-delayed"></div>
    </div>

    <!-- Grid pattern -->
    <div class="absolute inset-0 cyber-grid opacity-20"></div>

    <!-- Animated lines -->
    <div class="absolute inset-0 overflow-hidden">
      <div class="absolute top-1/4 left-0 w-full h-px bg-gradient-to-r from-transparent via-[#8DC63F]/20 to-transparent animate-scan"></div>
      <div class="absolute top-2/4 left-0 w-full h-px bg-gradient-to-r from-transparent via-[#F7931E]/20 to-transparent animate-scan" style="animation-delay: 2s"></div>
      <div class="absolute top-3/4 left-0 w-full h-px bg-gradient-to-r from-transparent via-[#3D9A8B]/20 to-transparent animate-scan" style="animation-delay: 4s"></div>
    </div>

    <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 relative text-center">
      <!-- Badge -->
      <div class="inline-flex items-center gap-3 glass-card px-6 py-3 rounded-full mb-10 border border-[#2D8B4E]/20 shadow-lg">
        <span class="relative flex h-2 w-2">
          <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-[#2D8B4E] opacity-75"></span>
          <span class="relative inline-flex rounded-full h-2 w-2 bg-[#2D8B4E]"></span>
        </span>
        <span class="text-[#2D8B4E] text-sm font-semibold">Join 500+ monthly supporters</span>
      </div>

      <h2 class="text-5xl md:text-7xl lg:text-8xl font-black mb-8 leading-[0.95]">
        <span class="text-gray-900">Join The</span><br/>
        <span class="neon-text-large">Hope Collective</span>
      </h2>

      <p class="text-xl md:text-2xl mb-14 text-gray-600 max-w-2xl mx-auto leading-relaxed font-light">
        Become a monthly donor and help us create <span class="text-gray-900 font-medium">sustainable, lasting change</span> in communities that need it most.
      </p>

      <a href="/hope-collective" class="mega-button group">
        <span class="mega-button-content">
          <span class="text-xl font-bold">Become a Member</span>
          <svg class="w-6 h-6 group-hover:translate-x-2 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6" />
          </svg>
        </span>
        <div class="mega-button-glow"></div>
        <div class="mega-button-shine"></div>
      </a>

      <!-- Floating elements -->
      <div class="absolute top-20 left-10 w-4 h-4 border-2 border-[#2D8B4E]/20 rotate-45 animate-float"></div>
      <div class="absolute bottom-20 right-10 w-6 h-6 border-2 border-[#F7931E]/20 rotate-12 animate-float-delayed"></div>
      <div class="absolute top-40 right-20 w-3 h-3 bg-[#3D9A8B]/20 rounded-full animate-pulse"></div>
    </div>
  </section>

  <!-- Contact CTA -->
  <CTASection
    title="Ready to Make a Difference?"
    subtitle="Whether you want to volunteer, donate, or partner with us, we'd love to hear from you."
    icon="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"
    primaryButtonText="Get in Touch"
    primaryButtonLink="/contact"
    secondaryButtonText="Learn More"
    secondaryButtonLink="/about"
  />
</BaseLayout>

<style>
  /* Hero headline */
  .hero-headline {
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
  }

  .hero-headline .text-gray-900 {
    text-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
  }

  .neon-glow {
    filter: drop-shadow(0 0 20px rgba(45, 139, 78, 0.3)) drop-shadow(0 0 40px rgba(247, 147, 30, 0.2));
  }

  /* Floating orbs */
  .floating-orb {
    position: absolute;
    border-radius: 50%;
    filter: blur(60px);
    opacity: 0.15;
  }

  .orb-1 {
    top: 10%;
    left: 10%;
    width: 300px;
    height: 300px;
    background: #2D8B4E;
    animation: float-orb-1 25s ease-in-out infinite;
  }

  .orb-2 {
    top: 50%;
    right: 10%;
    width: 250px;
    height: 250px;
    background: #F7931E;
    animation: float-orb-2 20s ease-in-out infinite;
  }

  .orb-3 {
    bottom: 10%;
    left: 30%;
    width: 200px;
    height: 200px;
    background: #3D9A8B;
    animation: float-orb-3 22s ease-in-out infinite;
  }

  @keyframes float-orb-1 {
    0%, 100% { transform: translate(0, 0); }
    50% { transform: translate(40px, 30px); }
  }

  @keyframes float-orb-2 {
    0%, 100% { transform: translate(0, 0); }
    50% { transform: translate(-30px, -40px); }
  }

  @keyframes float-orb-3 {
    0%, 100% { transform: translate(0, 0); }
    50% { transform: translate(30px, -20px); }
  }

  /* Cyber grid - Light mode */
  .cyber-grid {
    background-image:
      linear-gradient(rgba(45, 139, 78, 0.05) 1px, transparent 1px),
      linear-gradient(90deg, rgba(45, 139, 78, 0.05) 1px, transparent 1px);
    background-size: 50px 50px;
  }

  /* Particles - Light mode */
  .particles {
    position: absolute;
    inset: 0;
    overflow: hidden;
  }

  .particle {
    position: absolute;
    width: 4px;
    height: 4px;
    background: #2D8B4E;
    border-radius: 50%;
    opacity: 0.3;
    animation: particle-float 15s linear infinite;
  }

  .particle:nth-child(1) { left: 10%; animation-delay: 0s; }
  .particle:nth-child(2) { left: 20%; animation-delay: -2s; background: #3D9A8B; }
  .particle:nth-child(3) { left: 35%; animation-delay: -4s; }
  .particle:nth-child(4) { left: 50%; animation-delay: -6s; background: #8DC63F; }
  .particle:nth-child(5) { left: 65%; animation-delay: -8s; }
  .particle:nth-child(6) { left: 75%; animation-delay: -10s; background: #F7931E; }
  .particle:nth-child(7) { left: 85%; animation-delay: -12s; }
  .particle:nth-child(8) { left: 95%; animation-delay: -14s; background: #3D9A8B; }

  @keyframes particle-float {
    0% {
      transform: translateY(100vh) scale(0);
      opacity: 0;
    }
    10% {
      opacity: 0.3;
    }
    90% {
      opacity: 0.3;
    }
    100% {
      transform: translateY(-100vh) scale(1);
      opacity: 0;
    }
  }

  /* Glass cards - Light mode */
  .glass-card {
    background: rgba(255, 255, 255, 0.8);
    backdrop-filter: blur(10px);
  }

  /* Text reveal */
  .text-reveal {
    animation: text-reveal 0.8s cubic-bezier(0.77, 0, 0.175, 1) both;
  }

  @keyframes text-reveal {
    0% {
      opacity: 0;
      transform: translateY(20px);
    }
    100% {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Cyber buttons - Light mode */
  .cyber-button {
    position: relative;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 1rem 2.5rem;
    font-weight: 600;
    font-size: 1rem;
    border-radius: 9999px;
    overflow: hidden;
    transition: all 0.3s ease;
  }

  .cyber-button.primary {
    background: linear-gradient(135deg, #F7931E, #ff6b00);
    color: white;
    box-shadow: 0 4px 20px rgba(247, 147, 30, 0.3);
  }

  .cyber-button.primary:hover {
    transform: scale(1.05);
    box-shadow: 0 8px 40px rgba(247, 147, 30, 0.4);
  }

  .cyber-button.secondary {
    background: white;
    color: #2D8B4E;
    border: 2px solid #2D8B4E;
    box-shadow: 0 4px 20px rgba(45, 139, 78, 0.1);
  }

  .cyber-button.secondary:hover {
    background: #2D8B4E;
    color: white;
    box-shadow: 0 8px 30px rgba(45, 139, 78, 0.3);
  }

  .cyber-button.tertiary {
    background: transparent;
    color: #2D8B4E;
    border: 2px solid #2D8B4E;
  }

  .cyber-button.tertiary:hover {
    background: #2D8B4E;
    color: white;
    box-shadow: 0 8px 30px rgba(45, 139, 78, 0.3);
  }

  .cyber-button-glitch {
    position: absolute;
    inset: 0;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
    transform: translateX(-100%);
    transition: transform 0.5s ease;
  }

  .cyber-button:hover .cyber-button-glitch {
    transform: translateX(100%);
  }

  /* Scroll indicator - double chevron */
  .scroll-chevrons {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: -4px;
    cursor: pointer;
    transition: transform 0.3s ease;
  }

  .scroll-chevrons:hover {
    transform: translateY(4px);
  }

  .chevron-1 {
    animation: chevron-bounce 2s ease-in-out infinite;
  }

  .chevron-2 {
    margin-top: -8px;
    animation: chevron-bounce 2s ease-in-out infinite;
    animation-delay: 0.2s;
  }

  @keyframes chevron-bounce {
    0%, 100% { transform: translateY(0); opacity: 1; }
    50% { transform: translateY(6px); opacity: 0.4; }
  }

  /* Image frames - Light mode */
  .image-frame {
    position: relative;
    border-radius: 24px;
    padding: 4px;
    background: linear-gradient(135deg, #2D8B4E, #3D9A8B, #8DC63F);
    box-shadow: 0 20px 60px rgba(45, 139, 78, 0.2);
  }

  .image-placeholder {
    background: linear-gradient(135deg, #f8f9fa, #e9ecef);
    border-radius: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
  }

  .image-frame-small {
    border-radius: 16px;
    padding: 2px;
    background: linear-gradient(135deg, #F7931E, #ff6b00);
    box-shadow: 0 10px 40px rgba(247, 147, 30, 0.25);
  }

  .image-placeholder-small {
    background: #f8f9fa;
    border-radius: 14px;
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .placeholder-content {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: center;
    padding: 2rem;
  }

  /* Stat cards - Light mode */
  .stat-card {
    position: relative;
    background: white;
    border: 1px solid rgba(45, 139, 78, 0.1);
    border-radius: 20px;
    padding: 2rem;
    overflow: hidden;
    transition: all 0.5s cubic-bezier(0.23, 1, 0.32, 1);
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.03);
  }

  .stat-card:hover {
    transform: translateY(-8px);
    border-color: rgba(45, 139, 78, 0.2);
    box-shadow: 0 20px 60px rgba(45, 139, 78, 0.1);
  }

  .stat-card::before {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(135deg, rgba(45, 139, 78, 0.05), transparent);
    opacity: 0;
    transition: opacity 0.5s;
  }

  .stat-card:hover::before {
    opacity: 1;
  }

  .stat-card-inner {
    position: relative;
    z-index: 1;
  }

  .stat-number {
    font-size: 3.5rem;
    font-weight: 900;
    line-height: 1;
  }

  .stat-bar {
    margin-top: 1rem;
    height: 3px;
    background: rgba(45, 139, 78, 0.1);
    border-radius: 2px;
    overflow: hidden;
  }

  .stat-bar-fill {
    height: 100%;
    background: linear-gradient(90deg, #2D8B4E, #8DC63F);
    border-radius: 2px;
    width: 0;
    transition: width 1.5s ease-out;
  }

  .stat-bar-fill.animated {
    width: var(--bar-width);
  }

  /* Bento grid - Light mode */
  .bento-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    grid-template-rows: repeat(2, 200px);
    gap: 1rem;
  }

  @media (max-width: 768px) {
    .bento-grid {
      grid-template-columns: repeat(2, 1fr);
      grid-template-rows: repeat(4, 150px);
    }
  }

  .bento-item {
    position: relative;
    border-radius: 20px;
    overflow: hidden;
    background: white;
    border: 1px solid rgba(45, 139, 78, 0.1);
    transition: all 0.5s ease;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.03);
  }

  .bento-item:hover {
    transform: scale(1.02);
    border-color: rgba(45, 139, 78, 0.2);
    box-shadow: 0 20px 60px rgba(45, 139, 78, 0.1);
  }

  .bento-large {
    grid-column: span 2;
    grid-row: span 2;
  }

  .bento-tall {
    grid-row: span 2;
  }

  .bento-wide {
    grid-column: span 2;
  }

  .bento-image-placeholder {
    position: absolute;
    inset: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    background: linear-gradient(135deg, #f8f9fa, #e9ecef);
  }

  .bento-overlay {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    padding: 1.5rem;
    background: linear-gradient(to top, rgba(0, 0, 0, 0.7), transparent);
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
    opacity: 0;
    transform: translateY(10px);
    transition: all 0.3s ease;
  }

  .bento-item:hover .bento-overlay {
    opacity: 1;
    transform: translateY(0);
  }

  .bento-overlay-visible {
    opacity: 1;
    transform: translateY(0);
  }

  .line-clamp-1 {
    display: -webkit-box;
    -webkit-line-clamp: 1;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  /* Program cards - Light mode */
  .program-card {
    display: block;
    position: relative;
  }

  .program-card-inner {
    position: relative;
    background: white;
    border: 1px solid rgba(45, 139, 78, 0.1);
    border-radius: 24px;
    overflow: hidden;
    transition: all 0.5s cubic-bezier(0.23, 1, 0.32, 1);
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.03);
  }

  .program-card:hover .program-card-inner {
    transform: translateY(-8px);
    border-color: rgba(45, 139, 78, 0.2);
    box-shadow: 0 20px 60px rgba(45, 139, 78, 0.1);
  }

  .program-image {
    position: relative;
    aspect-ratio: 16/10;
    overflow: hidden;
  }

  .image-placeholder-light {
    position: absolute;
    inset: 0;
    background: linear-gradient(135deg, #f8f9fa, #e9ecef);
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .program-flag {
    position: absolute;
    top: 1rem;
    right: 1rem;
    font-size: 2rem;
    filter: drop-shadow(0 4px 8px rgba(0,0,0,0.1));
  }

  .program-content {
    padding: 1.5rem;
  }

  .program-link {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    color: #2D8B4E;
    font-weight: 600;
    font-size: 0.875rem;
  }

  .program-link.teal {
    color: #3D9A8B;
  }

  .program-link.orange {
    color: #F7931E;
  }

  .program-glow {
    position: absolute;
    bottom: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 150%;
    height: 100px;
    filter: blur(60px);
    opacity: 0;
    transition: opacity 0.5s;
    pointer-events: none;
  }

  .program-card:hover .program-glow {
    opacity: 0.15;
  }

  .program-glow-green {
    background: linear-gradient(to top, #2D8B4E, transparent);
  }

  .program-glow-teal {
    background: linear-gradient(to top, #3D9A8B, transparent);
  }

  .program-glow-orange {
    background: linear-gradient(to top, #F7931E, transparent);
  }

  /* Mega button - Light mode */
  .mega-button {
    position: relative;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 1.5rem 3rem;
    background: linear-gradient(135deg, #F7931E, #ff6b00);
    border-radius: 9999px;
    overflow: hidden;
    transition: all 0.3s ease;
    box-shadow: 0 8px 30px rgba(247, 147, 30, 0.3);
  }

  .mega-button:hover {
    transform: scale(1.05);
    box-shadow: 0 12px 50px rgba(247, 147, 30, 0.4);
  }

  .mega-button-content {
    position: relative;
    z-index: 2;
    display: flex;
    align-items: center;
    gap: 0.75rem;
    color: white;
  }

  .mega-button-glow {
    position: absolute;
    inset: -2px;
    background: linear-gradient(135deg, #F7931E, #ff6b00, #F7931E);
    background-size: 200% 200%;
    animation: glow-rotate 3s linear infinite;
    opacity: 0;
    transition: opacity 0.3s;
  }

  .mega-button:hover .mega-button-glow {
    opacity: 1;
  }

  @keyframes glow-rotate {
    0% { background-position: 0% 50%; }
    100% { background-position: 200% 50%; }
  }

  .mega-button-shine {
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
    transition: left 0.5s ease;
  }

  .mega-button:hover .mega-button-shine {
    left: 100%;
  }

  /* Utility animations */
  .animate-pulse-slow {
    animation: pulse-slow 4s ease-in-out infinite;
  }

  @keyframes pulse-slow {
    0%, 100% { opacity: 0.1; }
    50% { opacity: 0.15; }
  }

  .animate-float {
    animation: float 6s ease-in-out infinite;
  }

  .animate-float-delayed {
    animation: float 6s ease-in-out infinite;
    animation-delay: -3s;
  }

  @keyframes float {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-20px); }
  }

  .animate-scan {
    animation: scan 8s linear infinite;
  }

  @keyframes scan {
    0% { opacity: 0; transform: translateX(-100%); }
    50% { opacity: 1; }
    100% { opacity: 0; transform: translateX(100%); }
  }
</style>

<script>
  // Counter animation with easing
  function animateCounter(element: HTMLElement) {
    const target = parseInt(element.dataset.target || '0');
    const suffix = element.dataset.suffix || '';
    const divide = parseInt(element.dataset.divide || '1');
    const duration = 2000; // 2 seconds
    const startTime = performance.now();

    function easeOutExpo(t: number): number {
      return t === 1 ? 1 : 1 - Math.pow(2, -10 * t);
    }

    function update(currentTime: number) {
      const elapsed = currentTime - startTime;
      const progress = Math.min(elapsed / duration, 1);
      const easedProgress = easeOutExpo(progress);
      const currentValue = Math.floor(easedProgress * target);

      // Display value (optionally divided for "k" format)
      const displayValue = divide > 1 ? Math.floor(currentValue / divide) : currentValue;
      element.textContent = displayValue + suffix;

      if (progress < 1) {
        requestAnimationFrame(update);
      }
    }

    requestAnimationFrame(update);
  }

  // Intersection Observer for triggering animations
  const statsGrid = document.getElementById('stats-grid');
  let hasAnimated = false;

  if (statsGrid) {
    const observer = new IntersectionObserver((entries) => {
      entries.forEach((entry) => {
        if (entry.isIntersecting && !hasAnimated) {
          hasAnimated = true;

          // Animate all counters
          const counters = statsGrid.querySelectorAll('.counter');
          counters.forEach((counter, index) => {
            // Stagger the animations slightly
            setTimeout(() => {
              animateCounter(counter as HTMLElement);
            }, index * 100);
          });

          // Animate all progress bars
          const bars = statsGrid.querySelectorAll('.stat-bar-fill');
          bars.forEach((bar, index) => {
            setTimeout(() => {
              bar.classList.add('animated');
            }, index * 100);
          });
        }
      });
    }, { threshold: 0.3 });

    observer.observe(statsGrid);
  }
</script>
