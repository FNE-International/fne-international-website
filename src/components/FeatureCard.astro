---
interface Props {
  title: string;
  description: string;
  icon: string;
  color?: 'green' | 'orange' | 'teal';
  imagePlaceholder?: string;
  link?: string;
  linkText?: string;
  animationDelay?: number;
}

const {
  title,
  description,
  icon,
  color = 'green',
  imagePlaceholder,
  link,
  linkText = 'Learn More',
  animationDelay = 0
} = Astro.props;

const delayClass = animationDelay > 0 ? `delay-${animationDelay}` : '';
---

<div class={`feature-card animate-on-scroll ${delayClass}`}>
  <div class={`feature-card-icon feature-card-icon-${color}`}>
    <div class="icon-3d">
      <div class="icon-3d-inner animate-rotate-3d">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d={icon} />
        </svg>
      </div>
    </div>
  </div>

  <div class="feature-card-content">
    <h3 class="feature-card-title">{title}</h3>
    <p class="feature-card-description">{description}</p>
  </div>

  {imagePlaceholder && (
    <div class="feature-card-image">
      <div class="image-placeholder">
        <svg class="image-placeholder-icon w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" />
        </svg>
        <span class="image-placeholder-text text-xs">{imagePlaceholder}</span>
      </div>
    </div>
  )}

  {link && (
    <div class="feature-card-action">
      <a href={link} class="feature-card-link">
        {linkText}
        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6" />
        </svg>
      </a>
    </div>
  )}
</div>
